{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TheLoginPage extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loginPage\",\n      className: \"main_cont_divs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Login, {\n        onLoginSuccess: () => this.props.setPage('home')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      errors: {\n        email: '',\n        password: ''\n      },\n      loginError: ''\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleInputChange(event) {\n    const {\n      id,\n      value\n    } = event.target;\n    this.setState({\n      [id]: value,\n      loginError: ''\n    });\n  }\n  async handleSubmit(event) {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = this.state;\n    const errors = {};\n    if (!email) errors.email = 'Email is required.';\n    if (!password) errors.password = 'Password is required.';\n    if (Object.keys(errors).length > 0) {\n      this.setState({\n        errors\n      });\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:8000/login', {\n        email,\n        password\n      }, {\n        withCredentials: true\n      });\n      console.log(response.data.success);\n      if (response.data.success) {\n        // Redirect to the homepage\n        this.props.onLoginSuccess();\n      } else {\n        this.setState({\n          loginError: response.data.errorMessage\n        });\n      }\n    } catch (error) {\n      this.setState({\n        loginError: 'An error occurred during login.'\n      });\n      console.error('Login error:', error);\n    }\n  }\n  render() {\n    const {\n      email,\n      password,\n      errors,\n      loginError\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loginFormContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"loginForm\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login Existing User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"Email\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required-indicator\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            placeholder: \"Enter Your Email\",\n            className: \"form-control\",\n            value: email,\n            onChange: this.handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required-indicator\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            placeholder: \"Enter Your Password\",\n            className: \"form-control\",\n            value: password,\n            onChange: this.handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: loginError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            id: \"submitLoginFormButton\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"cancelLoginFormButton\",\n            onClick: () => this.setState({\n              email: '',\n              password: '',\n              errors: {},\n              loginError: ''\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","axios","jsxDEV","_jsxDEV","TheLoginPage","Component","render","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Login","onLoginSuccess","props","setPage","constructor","state","email","password","errors","loginError","handleInputChange","bind","handleSubmit","event","value","target","setState","preventDefault","Object","keys","length","response","post","withCredentials","console","log","data","success","errorMessage","error","onSubmit","htmlFor","type","placeholder","onChange","required","onClick"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/login.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\n\nexport default class TheLoginPage extends React.Component {\n    render() {\n        return (\n            <div id=\"loginPage\" className=\"main_cont_divs\">\n                <h1>Login</h1>\n                <Login onLoginSuccess={() => this.props.setPage('home')} />\n            </div>\n        );\n    }\n}\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            errors: {\n                email: '',\n                password: '',\n            },\n            loginError: '',\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleInputChange(event) {\n        const { id, value } = event.target;\n        this.setState({ [id]: value, loginError: '' });\n    }\n\n    async handleSubmit(event) {\n        event.preventDefault();\n\n        const { email, password } = this.state;\n        const errors = {};\n        if (!email) errors.email = 'Email is required.';\n        if (!password) errors.password = 'Password is required.';\n\n        if (Object.keys(errors).length > 0) {\n            this.setState({ errors });\n            return;\n        }\n\n        try {\n            const response = await axios.post('http://localhost:8000/login', {\n                email,\n                password,\n            },{ withCredentials: true });\n\n            console.log(response.data.success)\n\n            if (response.data.success) {\n                // Redirect to the homepage\n                this.props.onLoginSuccess();\n            } else {\n                this.setState({ loginError: response.data.errorMessage });\n            }\n        } catch (error) {\n            this.setState({ loginError: 'An error occurred during login.' });\n            console.error('Login error:', error);\n        }\n    }\n\n    render() {\n        const { email, password, errors, loginError } = this.state;\n\n        return (\n            <div id=\"loginFormContainer\">\n                <form id=\"loginForm\" onSubmit={this.handleSubmit}>\n                    <div>\n                        <h2>Login Existing User</h2>\n                    </div>\n\n                    {/* Email Field */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">\n                            <b>Email<span className=\"required-indicator\">*</span></b>\n                        </label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            placeholder=\"Enter Your Email\"\n                            className=\"form-control\"\n                            value={email}\n                            onChange={this.handleInputChange}\n                            required\n                        />\n                        {errors.email && <div className=\"error-message\">{errors.email}</div>}\n                    </div>\n\n                    {/* Password Field */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">\n                            <b>Password<span className=\"required-indicator\">*</span></b>\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            placeholder=\"Enter Your Password\"\n                            className=\"form-control\"\n                            value={password}\n                            onChange={this.handleInputChange}\n                            required\n                        />\n                        {errors.password && <div className=\"error-message\">{errors.password}</div>}\n                    </div>\n\n                    {/* Login Error */}\n                    {loginError && <div className=\"error-message\">{loginError}</div>}\n\n                    {/* Submit and Cancel Buttons */}\n                    <div className=\"button-group\">\n                        <button type=\"submit\" id=\"submitLoginFormButton\">\n                            Login\n                        </button>\n                        <button\n                            type=\"button\"\n                            id=\"cancelLoginFormButton\"\n                            onClick={() => this.setState({ email: '', password: '', errors: {}, loginError: '' })}\n                        >\n                            Cancel\n                        </button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}