{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/welcome.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport '../stylesheets/welcome.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class TheWelcomePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: '',\n      loggedIn: false\n    };\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n  async componentDidMount() {\n    try {\n      const response = await axios.get('http://localhost:8000/', {\n        withCredentials: true\n      });\n      console.log(response.data.loggedIn);\n      if (response.data.loggedIn) {\n        this.setState({\n          loggedIn: true,\n          message: response.data.message\n        });\n      } else {\n        this.setState({\n          loggedIn: false,\n          message: response.data.message\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching session data:', error);\n      this.setState({\n        message: '<p>Failed to load data. Please try again later.</p>'\n      });\n    }\n  }\n  async handleLogout() {\n    try {\n      await axios.post('http://localhost:8000/logout', {}, {\n        withCredentials: true\n      });\n      this.setState({\n        loggedIn: false,\n        message: 'Guest'\n      });\n      alert('You have been logged out.');\n    } catch (error) {\n      console.error('Error logging out:', error);\n      alert('Failed to log out. Please try again.');\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"welcomePage\",\n      className: \"main_cont_divs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"welcomeText\",\n        children: [\"Welcome \", this.state.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WelcomeButtons, {\n        loggedIn: this.state.loggedIn,\n        handleLogout: this.handleLogout,\n        setPage: this.props.setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass WelcomeButtons extends React.Component {\n  render() {\n    const {\n      loggedIn,\n      handleLogout,\n      setPage\n    } = this.props;\n    console.log(loggedIn);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"welcomeButtons\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"center\",\n          id: \"Register\",\n          onClick: () => setPage('register'),\n          children: \"Register as New User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"center\",\n          id: \"Existing\",\n          onClick: () => setPage('login'),\n          children: \"Login as Existing User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"center\",\n          id: \"Guest\",\n          onClick: () => setPage('home'),\n          children: \"Continue as Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"center\",\n          id: \"Logout\",\n          onClick: handleLogout,\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["axios","React","jsxDEV","_jsxDEV","Fragment","_Fragment","TheWelcomePage","Component","constructor","props","state","message","loggedIn","handleLogout","bind","componentDidMount","response","get","withCredentials","console","log","data","setState","error","post","alert","render","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","WelcomeButtons","setPage","onClick"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/welcome.js"],"sourcesContent":["import axios from 'axios';\nimport React from 'react';\nimport '../stylesheets/welcome.css';\n\nexport default class TheWelcomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            message: '',\n            loggedIn: false,\n        };\n\n        this.handleLogout = this.handleLogout.bind(this);\n    }\n\n    async componentDidMount() {\n        try {\n            const response = await axios.get('http://localhost:8000/', { withCredentials: true });\n            console.log(response.data.loggedIn)\n            if (response.data.loggedIn) {\n                this.setState({ \n                    loggedIn: true, \n                    message: response.data.message\n                });\n            } else {\n                this.setState({ \n                    loggedIn: false, \n                    message: response.data.message\n                });\n            }\n        } catch (error) {\n            console.error('Error fetching session data:', error);\n            this.setState({ message: '<p>Failed to load data. Please try again later.</p>' });\n        }\n    }\n\n    async handleLogout() {\n        try {\n            await axios.post('http://localhost:8000/logout', {}, { withCredentials: true });\n            this.setState({ loggedIn: false, message: 'Guest' });\n            alert('You have been logged out.');\n        } catch (error) {\n            console.error('Error logging out:', error);\n            alert('Failed to log out. Please try again.');\n        }\n    }\n\n    render() {\n        return (\n            <div id=\"welcomePage\" className=\"main_cont_divs\">\n                <h1 id=\"welcomeText\">Welcome {this.state.message}</h1>\n                <WelcomeButtons \n                loggedIn={this.state.loggedIn} \n                handleLogout={this.handleLogout} \n                setPage={this.props.setPage} />\n            </div>\n        )\n    }\n}\n\nclass WelcomeButtons extends React.Component {\n    render() {\n        const { loggedIn, handleLogout, setPage } = this.props;\n\n        console.log(loggedIn)\n\n        return (\n            <div id=\"welcomeButtons\">\n                    <>\n                        <button\n                            className=\"center\"\n                            id=\"Register\"\n                            onClick={() => setPage('register')}\n                        >\n                            Register as New User\n                        </button>\n                        <button\n                            className=\"center\"\n                            id=\"Existing\"\n                            onClick={() => setPage('login')}\n                        >\n                            Login as Existing User\n                        </button>\n                        <button\n                            className=\"center\"\n                            id=\"Guest\"\n                            onClick={() => setPage('home')}\n                        >\n                            Continue as Guest\n                        </button>\n                        {loggedIn && \n                        (<button\n                        className=\"center\"\n                        id=\"Logout\"\n                        onClick={handleLogout}\n                        >\n                        Log Out\n                        </button>)\n                        }\n                    </>\n                \n            </div>\n        );\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}