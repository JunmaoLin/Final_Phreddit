{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/userProf.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { PostSection, InfoSection, orderNewest, TimeStamp, getTotalComments } from './homePage.js';\nimport { Comment } from './postPage.js';\nimport '../stylesheets/userProf.css';\nimport memberCountIcon from '../images/memberCountIcon.svg';\nimport postCountIcon from '../images/postCountIcon.svg';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class TheUserPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleDeleteComment = async commentId => {\n      console.log(\"COMMENT ID IN DELETE\", commentId);\n      try {\n        const response = await axios.delete(`http://localhost:8000/comments/${commentId}`, {\n          withCredentials: true\n        });\n        console.log(response.data);\n        if (response.data.updatedPost) {\n          this.props.setPosts(prevPosts => prevPosts.map(post => {\n            //console.log(\"THIS IS THE POST\", post)\n            return post._id === response.data.updatedPost._id ? {\n              ...post,\n              ...response.data.updatedPost\n            } : post;\n          }));\n        }\n        if (response.data.updatedComment) {\n          this.props.setComments(prevComments => prevComments.map(comment => {\n            //console.log(\"THIS IS THE COMMENT\", comment)\n            return comment._id === response.data.updatedComment._id ? {\n              ...comment,\n              ...response.data.updatedComment\n            } : comment;\n          }));\n        }\n        this.props.setComments(prevComments => prevComments.filter(comment => {\n          //console.log(\"THIS IS THE COMMENT\", comment)\n          return !response.data.deletedComments.includes(comment._id);\n        }));\n        alert('Comment deleted successfully!');\n        this.props.handleButtonChange(\"comments\", this.props.selectedUser);\n      } catch (error) {\n        console.error('Error deleting comment:', error);\n        alert('Failed to delete comment. Please try again.');\n      }\n    };\n    this.handleDeletePost = async postID => {\n      console.log(\"POST ID IN DELETE\", postID);\n      try {\n        const response = await axios.delete(`http://localhost:8000/posts/${postID}`, {\n          withCredentials: true\n        });\n        console.log(response.data);\n        if (response.data.deletedPost) {\n          this.props.setPosts(prevPosts => prevPosts.filter(post => {\n            //console.log(\"THIS IS THE post\", post)\n            return post._id !== response.data.deletedPost._id;\n          }));\n        }\n        if (response.data.updatedCommunity) {\n          this.props.setCommunities(prevCommunities => prevCommunities.map(community => {\n            //console.log(\"THIS IS THE community\", community)\n            return community._id === response.data.updatedCommunity._id ? {\n              ...community,\n              ...response.data.updatedCommunity\n            } : community;\n          }));\n        }\n        if (response.data.deletedComments) {\n          this.props.setComments(prevComments => prevComments.filter(comment => {\n            //console.log(\"THIS IS THE comment\", comment)\n            return !response.data.deletedComments.includes(comment._id);\n          }));\n        }\n        alert('POST deleted successfully!');\n        this.props.handleButtonChange(\"posts\", this.props.selectedUser);\n      } catch (error) {\n        console.error('Error deleting posts:', error);\n        alert('Failed to delete posts. Please try again.');\n      }\n    };\n    this.handleDeleteCommunity = async comID => {\n      console.log(\"COMMUNITY ID IN DELETE\", comID);\n      try {\n        const response = await axios.delete(`http://localhost:8000/communities/${comID}`, {\n          withCredentials: true\n        });\n        console.log(response.data);\n        if (response.data.deletedCommunity) {\n          this.props.setCommunities(prevCommunities => prevCommunities.filter(community => {\n            //console.log(\"THIS IS THE community\", community)\n            return community._id !== response.data.deletedCommunity._id;\n          }));\n        }\n        if (response.data.deletedPosts) {\n          const deletedPostIds = response.data.deletedPosts.map(post => {\n            //console.log(\"DELETED POSTS\", post)\n            return post._id;\n          });\n          this.props.setPosts(prevPosts => prevPosts.filter(post => {\n            //console.log(\"THIS IS THE post\", post)\n            return !deletedPostIds.includes(post._id);\n          }));\n        }\n        if (response.data.deletedComments) {\n          this.props.setComments(prevComments => prevComments.filter(comment => {\n            //console.log(\"THIS IS THE comment\", comment)\n            return !response.data.deletedComments.includes(comment._id);\n          }));\n        }\n        alert('COMMUNITY deleted successfully!');\n        this.props.handleButtonChange(\"communities\", this.props.selectedUser);\n      } catch (error) {\n        console.error('Error deleting communities:', error);\n        alert('Failed to delete communities. Please try again.');\n      }\n    };\n    this.handleDeleteUser = async userID => {\n      console.log(\"USER ID IN DELETE\", userID);\n      try {\n        const response = await axios.delete(`http://localhost:8000/users/${userID}`, {\n          withCredentials: true\n        });\n        console.log(response.data);\n        if (response.data.deletedUser) {\n          this.props.setUsers(prevUsers => prevUsers.filter(user => {\n            console.log(\"THIS IS THE user\", user);\n            return user._id !== response.data.deletedUser._id;\n          }));\n        }\n        if (response.data.deletedCommunities) {\n          this.props.setCommunities(prevCommunities => prevCommunities.filter(community => {\n            console.log(\"THIS IS THE community\", community);\n            return !response.data.deletedCommunities.includes(community._id);\n          }));\n        }\n        if (response.data.deletedPosts) {\n          this.props.setPosts(prevPosts => prevPosts.filter(post => {\n            console.log(\"THIS IS THE post\", post);\n            return !response.data.deletedPosts.includes(post._id);\n          }));\n        }\n        if (response.data.deletedComments) {\n          this.props.setComments(prevComments => prevComments.filter(comment => {\n            console.log(\"THIS IS THE comment\", comment);\n            return !response.data.deletedComments.includes(comment._id);\n          }));\n        }\n        alert('USER deleted successfully!');\n        this.props.handleButtonChange(\"phredditUsers\");\n      } catch (error) {\n        console.error('Error deleting USER:', error);\n        alert('Failed to delete USER. Please try again.');\n      }\n    };\n    this.state = {\n      order: orderNewest\n    };\n    this.handleDeleteComment = this.handleDeleteComment.bind(this);\n  }\n  //get all users for phredditUsers\n  // async fetchAllUsers() {\n  //     try {\n  //         const response = await axios.get('http://localhost:8000/getAllUsers', { withCredentials: true });\n  //         console.log(\"ALL USERS\", response.data);\n  //         console.log(\"ALL USERS\", response.data[0]);\n  //         return response.data;\n  //     } catch (error) {\n  //         console.error('Error fetching users:', error);\n  //     }\n  // };\n\n  render() {\n    const {\n      activeButton\n    } = this.props;\n    console.log(this.props);\n    const {\n      goToEditCommunityPage,\n      goToEditPostPage,\n      goToEditCommentPage,\n      posts,\n      communities,\n      comments,\n      linkFlairs,\n      loggedIn,\n      userInfo,\n      allPhredditUsers,\n      isUserSelected,\n      selectedUser,\n      handleButtonChange\n    } = this.props;\n    const allUsers = allPhredditUsers;\n    console.log(\"ALL USERSsssssssssss\", allUsers);\n    console.log(\"HOME PAGE PROPS\", this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"homePage\",\n      className: \"main_cont_divs\",\n      children: [/*#__PURE__*/_jsxDEV(TheUserPageHeader, {\n        user: this.props.userProf,\n        activeButton: activeButton,\n        handleButtonChange: this.props.handleButtonChange,\n        loggedIn: loggedIn,\n        userInfo: userInfo,\n        isUserSelected: isUserSelected,\n        selectedUser: selectedUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }, this), activeButton === 'phredditUsers' && userInfo[3] && !isUserSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"User Accounts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }, this), allUsers && allUsers.length > 1 ? allUsers.map(user => {\n          // don't display admin users\n          // if(user.admin){\n          // }\n          // else{\n          return user.admin ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userAccounts\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"userAccountDiv\",\n              onClick: e => {\n                e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                console.log(\"I am at user account userProf\", user);\n                //setPage('userProf', null, user);\n                handleButtonChange('posts', user);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Display Name: \", user.display]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Email Address: \", user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Reputation: \", user.reputation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"userAccountsSpaceDivTag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"deleteUserButton\",\n              onClick: e => {\n                e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                console.log(user);\n                const confirmDelete = window.confirm(\"Are you sure you want to delete this user?\");\n                if (confirmDelete) {\n                  this.handleDeleteUser(user._id);\n                }\n              },\n              children: \"Delete User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 49\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 45\n          }, this);\n          //}\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No users found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }, this), activeButton === 'posts' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PostSection, {\n          posts: this.props.userPosts.posts,\n          goToPostPage: goToEditPostPage,\n          comments: comments,\n          linkFlairs: linkFlairs,\n          communities: communities,\n          order: this.state.order,\n          page: 'userInfo',\n          loggedIn: loggedIn,\n          userInfo: userInfo,\n          handleDeletePost: this.handleDeletePost\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), activeButton === 'communities' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CommunitySection, {\n          communities: this.props.userComs,\n          goToEditCommunityPage: goToEditCommunityPage,\n          handleDeleteCommunity: this.handleDeleteCommunity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), activeButton === 'comments' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CommentSection, {\n          comments: comments,\n          userComments: this.props.userComments,\n          posts: posts,\n          userPosts: this.props.userPosts,\n          goToEditCommentPage: goToEditCommentPage,\n          handleDeleteComment: this.handleDeleteComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this);\n  }\n}\nclass TheUserPageHeader extends React.Component {\n  render() {\n    console.log(this.props);\n    const {\n      user\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(InfoSection, {\n        user: user,\n        page: 'userProf'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserButtons, {\n        activeButton: this.props.activeButton,\n        handleButtonChange: this.props.handleButtonChange,\n        loggedIn: this.props.loggedIn,\n        userInfo: this.props.userInfo,\n        isUserSelected: this.props.isUserSelected,\n        selectedUser: this.props.selectedUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass CommentSection extends React.Component {\n  render() {\n    const {\n      posts,\n      comments,\n      userComments,\n      userPosts,\n      handleDeleteComment\n    } = this.props;\n    console.log(\"COMMENT SECTION hello?\", comments);\n    const sortedComments = commmentsList(comments, userPosts.posts, userComments.comments, posts);\n    sortedComments && sortedComments.length;\n    const listComs = sortedComments.map((com, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userCommunitiesComment\",\n        id: \"id-\" + com.props._id,\n        onClick: () => {\n          console.log(\"BEFORE ASSIGNMENT\");\n          this.props.goToEditCommentPage(com);\n          //console.log(\"AFTER ASSIGNMENT\")\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userComments\",\n          children: [com.props.postTitle, \" \\u2022 \", /*#__PURE__*/_jsxDEV(TimeStamp, {\n            postedDate: com.props.comment.commentedDate\n          }, com.props.comment.commentedDate, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: com.props.comment.content.length > 20 ? `${com.props.comment.content.slice(0, 20)}...` : com.props.comment.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"deleteCommentButton\",\n          onClick: e => {\n            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n            console.log(com.props);\n            const confirmDelete = window.confirm(\"Are you sure you want to delete this comment?\");\n            if (confirmDelete) {\n              handleDeleteComment(com.props._id);\n            }\n          },\n          children: \"Delete Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this)]\n      }, com.props._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }, this);\n    });\n    let commentSectionInfo = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: listComs\n    }, sortedComments.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }, this);\n    return commentSectionInfo;\n  }\n}\nfunction commmentsList(comments, userPosts, userComments, posts) {\n  console.log(\"comments B4\", comments, posts);\n  const sortedList = commentNewest(userComments);\n\n  //console.log(\"SORTED LIST\", sortedList)\n\n  const comsList = sortedList.map(function (com, index) {\n    let postWithComment;\n    let commentArray;\n    for (const post of posts) {\n      // Flatten the comments for the current post\n      console.log(\"this is the post info from\", post.title, post.commentIDs, comments);\n      commentArray = getTotalComments(post, comments);\n      //console.log(\"THIS SI THE COMMENT ARRAY FOR THIS POST\", post, commentArray)\n\n      // Check if the current comment exists in the flattened comment array\n      if (commentArray.some(nestedComment => nestedComment._id === com._id)) {\n        postWithComment = post;\n        break; // Exit the loop once the matching post is found\n      }\n    }\n\n    // Get the post title if found, or default to \"Post Not Found\"\n    const postTitle = postWithComment ? postWithComment.title : \"Post Not Found\";\n\n    //console.log(com, postTitle)\n    return /*#__PURE__*/_jsxDEV(Comment, {\n      _id: com._id,\n      page: 'userProf',\n      postTitle: postTitle,\n      comment: com\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 13\n    }, this);\n  });\n  return comsList;\n}\nconst commentNewest = comToDisplay => {\n  let com = comToDisplay;\n  com.sort(function (a, b) {\n    return new Date(b.commentedDate) - new Date(a.commentedDate);\n  });\n  return com;\n};\nclass CommunitySection extends React.Component {\n  render() {\n    const {\n      communities\n    } = this.props;\n    //console.log(\"COM SECTION hello?\", communities)\n    const sortedCommunity = comsList(communities.communities);\n    const listComs = sortedCommunity.map((com, index) => {\n      //console.log(com)\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"id-\" + com.props._id,\n        onClick: () => {\n          //console.log(\"BEFORE ASSIGNMENT\")\n          this.props.goToEditCommunityPage(com);\n          //console.log(\"AFTER ASSIGNMENT\")\n        },\n        children: [/*#__PURE__*/_jsxDEV(Community, {\n          ...com.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"deleteCommunityButton\",\n          onClick: e => {\n            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n            // console.log(com.props)\n            const confirmDelete = window.confirm(\"Are you sure you want to delete this community?\");\n            if (confirmDelete) {\n              // If the user confirms, proceed with the delete action\n              this.props.handleDeleteCommunity(com.props._id);\n            }\n            //this.props.handleDeleteCommunity(com.props._id);\n          },\n          children: \"Delete Community\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 21\n        }, this)]\n      }, com.props._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }, this);\n    });\n    let comSectionInfo = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: listComs\n    }, sortedCommunity.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 13\n    }, this);\n    //console.log(postSectionInfo);\n\n    return comSectionInfo;\n  }\n}\nfunction comsList(communities) {\n  //console.log(\"COMMUNITIES B4\", communities)\n  const sortedList = comNewest(communities);\n\n  //console.log(\"SORTED LIST\", sortedList)\n\n  const comsList = sortedList.map(function (com, index) {\n    return /*#__PURE__*/_jsxDEV(Community, {\n      name: com.name,\n      description: com.description,\n      startDate: com.startDate,\n      createdBy: com.createdBy,\n      memberCount: com.memberCount,\n      postIDs: com.postIDs,\n      _id: com._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 16\n    }, this);\n  });\n  return comsList;\n}\nclass Community extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userCommunities\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"userCommunitiesName\",\n        children: this.props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 28\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.props.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 39\n      }, this), \"Created: \", /*#__PURE__*/_jsxDEV(TimeStamp, {\n        postedDate: this.props.startDate\n      }, this.props.startDate, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Created By: \", this.props.createdBy]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"postCountIcon\",\n        alt: \"postCountIcon\",\n        src: postCountIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 18\n      }, this), \" \", this.props.postIDs.length, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"memberCountIcon\",\n        alt: \"memberCountIcon\",\n        src: memberCountIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 114\n      }, this), \" \", this.props.memberCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst comNewest = comToDisplay => {\n  let com = comToDisplay;\n  com.sort(function (a, b) {\n    return new Date(b.startDate) - new Date(a.startDate);\n  });\n  return com;\n};\nclass UserButtons extends React.Component {\n  render() {\n    const {\n      activeButton,\n      handleButtonChange,\n      userInfo,\n      isUserSelected,\n      selectedUser\n    } = this.props;\n    console.log(\"am i adminnnnnnn\", userInfo[3]); //userInfo[3] is admin value\n    console.log(\"I am the selected userrrrrrrrr\", selectedUser);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"buttonSection\",\n      children: [userInfo[3] && !isUserSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'phredditUsers' ? 'active' : '',\n          onClick: () => handleButtonChange('phredditUsers'),\n          children: \"Phreddit Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 21\n      }, this), userInfo[3] && isUserSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'phredditUsers' ? 'active' : '',\n          onClick: () => handleButtonChange('phredditUsers'),\n          children: \"Back to Admin Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'posts' ? 'active' : '',\n          onClick: () => handleButtonChange('posts', selectedUser),\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'communities' ? 'active' : '',\n          onClick: () => handleButtonChange('communities', selectedUser),\n          children: \"Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'comments' ? 'active' : '',\n          onClick: () => handleButtonChange('comments', selectedUser),\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","axios","PostSection","InfoSection","orderNewest","TimeStamp","getTotalComments","Comment","memberCountIcon","postCountIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","TheUserPage","Component","constructor","props","handleDeleteComment","commentId","console","log","response","delete","withCredentials","data","updatedPost","setPosts","prevPosts","map","post","_id","updatedComment","setComments","prevComments","comment","filter","deletedComments","includes","alert","handleButtonChange","selectedUser","error","handleDeletePost","postID","deletedPost","updatedCommunity","setCommunities","prevCommunities","community","handleDeleteCommunity","comID","deletedCommunity","deletedPosts","deletedPostIds","handleDeleteUser","userID","deletedUser","setUsers","prevUsers","user","deletedCommunities","state","order","bind","render","activeButton","goToEditCommunityPage","goToEditPostPage","goToEditCommentPage","posts","communities","comments","linkFlairs","loggedIn","userInfo","allPhredditUsers","isUserSelected","allUsers","id","className","children","TheUserPageHeader","userProf","fileName","_jsxFileName","lineNumber","columnNumber","length","admin","onClick","e","stopPropagation","display","email","reputation","confirmDelete","window","confirm","userPosts","goToPostPage","page","CommunitySection","userComs","CommentSection","userComments","UserButtons","sortedComments","commmentsList","listComs","com","index","postTitle","postedDate","commentedDate","content","slice","commentSectionInfo","sortedList","commentNewest","comsList","postWithComment","commentArray","title","commentIDs","some","nestedComment","comToDisplay","sort","a","b","Date","sortedCommunity","Community","comSectionInfo","comNewest","name","description","startDate","createdBy","memberCount","postIDs","alt","src"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/userProf.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {PostSection, InfoSection, orderNewest, TimeStamp, getTotalComments} from './homePage.js';\nimport { Comment }  from './postPage.js';\nimport '../stylesheets/userProf.css';\nimport memberCountIcon from '../images/memberCountIcon.svg'\nimport postCountIcon from '../images/postCountIcon.svg'\n\nexport default class TheUserPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          order: orderNewest,\n        };\n        \n        this.handleDeleteComment = this.handleDeleteComment.bind(this)\n    }\n\n    handleDeleteComment = async (commentId) => {\n        console.log(\"COMMENT ID IN DELETE\", commentId)\n        try {\n            const response = await axios.delete(`http://localhost:8000/comments/${commentId}`, { withCredentials: true });\n\n            console.log(response.data)\n\n            if (response.data.updatedPost) {\n                this.props.setPosts((prevPosts) =>\n                    prevPosts.map((post) =>\n                        {//console.log(\"THIS IS THE POST\", post)\n                        return post._id === response.data.updatedPost._id ? { ...post, ...response.data.updatedPost } : post}\n                    )\n                );\n            }\n\n            if (response.data.updatedComment) {\n                this.props.setComments((prevComments) =>\n                    prevComments.map((comment) =>\n                        {//console.log(\"THIS IS THE COMMENT\", comment)\n                        return comment._id === response.data.updatedComment._id ? { ...comment, ...response.data.updatedComment } : comment}\n                    )\n                );\n            }\n    \n            this.props.setComments((prevComments) =>\n                prevComments.filter((comment) => \n                    {//console.log(\"THIS IS THE COMMENT\", comment)\n                    return !response.data.deletedComments.includes(comment._id)}\n                )\n            );\n            alert('Comment deleted successfully!');\n            this.props.handleButtonChange(\"comments\", this.props.selectedUser)\n        } catch (error) {\n            console.error('Error deleting comment:', error);\n            alert('Failed to delete comment. Please try again.');\n        }\n    };\n\n    handleDeletePost = async (postID) => {\n        console.log(\"POST ID IN DELETE\", postID)\n        try {\n            const response = await axios.delete(`http://localhost:8000/posts/${postID}`, { withCredentials: true });\n\n            console.log(response.data)\n\n            if (response.data.deletedPost) {\n                this.props.setPosts((prevPosts) =>\n                    prevPosts.filter((post) => \n                        {//console.log(\"THIS IS THE post\", post)\n                        return post._id !== response.data.deletedPost._id\n                    })\n                );\n            }\n    \n            if (response.data.updatedCommunity) {\n                this.props.setCommunities((prevCommunities) =>\n                    prevCommunities.map((community) =>\n                        {//console.log(\"THIS IS THE community\", community)\n                        return community._id === response.data.updatedCommunity._id\n                            ? { ...community, ...response.data.updatedCommunity }\n                            : community\n                        })\n                );\n            }\n    \n            if (response.data.deletedComments) {\n                this.props.setComments((prevComments) =>\n                    prevComments.filter((comment) => \n                        {//console.log(\"THIS IS THE comment\", comment)\n                        return !response.data.deletedComments.includes(comment._id)})\n                );\n            }\n            alert('POST deleted successfully!');\n            this.props.handleButtonChange(\"posts\", this.props.selectedUser)\n        } catch (error) {\n            console.error('Error deleting posts:', error);\n            alert('Failed to delete posts. Please try again.');\n        }\n    };\n\n    handleDeleteCommunity = async (comID) => {\n        console.log(\"COMMUNITY ID IN DELETE\", comID)\n        try {\n            const response = await axios.delete(`http://localhost:8000/communities/${comID}`, { withCredentials: true });\n\n            console.log(response.data)\n\n            if (response.data.deletedCommunity) {\n                this.props.setCommunities((prevCommunities) =>\n                    prevCommunities.filter((community) => \n                        {//console.log(\"THIS IS THE community\", community)\n                        return community._id !== response.data.deletedCommunity._id\n                        })\n                );\n            }\n    \n            if (response.data.deletedPosts) {\n                const deletedPostIds = response.data.deletedPosts.map((post) => \n                    {//console.log(\"DELETED POSTS\", post)\n                    return post._id});\n                this.props.setPosts((prevPosts) =>\n                    prevPosts.filter((post) => \n                        {//console.log(\"THIS IS THE post\", post)\n                        return !deletedPostIds.includes(post._id)\n                        })\n                );\n            }\n    \n            if (response.data.deletedComments) {\n                this.props.setComments((prevComments) =>\n                    prevComments.filter((comment) => \n                        {//console.log(\"THIS IS THE comment\", comment)\n                        return !response.data.deletedComments.includes(comment._id)\n                        })\n                );\n            }\n            alert('COMMUNITY deleted successfully!');\n            this.props.handleButtonChange(\"communities\", this.props.selectedUser)\n        } catch (error) {\n            console.error('Error deleting communities:', error);\n            alert('Failed to delete communities. Please try again.');\n        }\n    };\n\n    handleDeleteUser = async (userID) => {\n        console.log(\"USER ID IN DELETE\", userID)\n        try {\n            const response = await axios.delete(`http://localhost:8000/users/${userID}`, { withCredentials: true });\n\n            console.log(response.data)\n\n            if (response.data.deletedUser) {\n                this.props.setUsers((prevUsers) =>\n                    prevUsers.filter((user) => \n                        {console.log(\"THIS IS THE user\", user)\n                        return user._id !== response.data.deletedUser._id\n                        })\n                );\n            }\n\n            if (response.data.deletedCommunities) {\n                this.props.setCommunities((prevCommunities) =>\n                    prevCommunities.filter((community) => \n                        {console.log(\"THIS IS THE community\", community)\n                        return !response.data.deletedCommunities.includes(community._id)\n                        })\n                );\n            }\n    \n            if (response.data.deletedPosts) {\n                this.props.setPosts((prevPosts) =>\n                    prevPosts.filter((post) => \n                        {console.log(\"THIS IS THE post\", post)\n                        return !response.data.deletedPosts.includes(post._id)\n                        })\n                );\n            }\n    \n            if (response.data.deletedComments) {\n                this.props.setComments((prevComments) =>\n                    prevComments.filter((comment) => \n                        {console.log(\"THIS IS THE comment\", comment)\n                        return !response.data.deletedComments.includes(comment._id)\n                        })\n                );\n            }\n            alert('USER deleted successfully!');\n            this.props.handleButtonChange(\"phredditUsers\")\n        } catch (error) {\n            console.error('Error deleting USER:', error);\n            alert('Failed to delete USER. Please try again.');\n        }\n    };\n\n    //get all users for phredditUsers\n    // async fetchAllUsers() {\n    //     try {\n    //         const response = await axios.get('http://localhost:8000/getAllUsers', { withCredentials: true });\n    //         console.log(\"ALL USERS\", response.data);\n    //         console.log(\"ALL USERS\", response.data[0]);\n    //         return response.data;\n    //     } catch (error) {\n    //         console.error('Error fetching users:', error);\n    //     }\n    // };\n\n    render(){\n        const {activeButton } = this.props;\n        console.log(this.props)\n        const {goToEditCommunityPage, goToEditPostPage, goToEditCommentPage, posts, communities, comments, linkFlairs, loggedIn, userInfo, allPhredditUsers, isUserSelected, selectedUser, handleButtonChange} = this.props\n        const allUsers = allPhredditUsers;\n        console.log(\"ALL USERSsssssssssss\", allUsers)\n        console.log(\"HOME PAGE PROPS\", this.props);\n        return (\n        <div id=\"homePage\" className=\"main_cont_divs\">\n            {/* <>this is the user info tab</> */}\n            <TheUserPageHeader \n                user={this.props.userProf}\n                activeButton={activeButton}\n                handleButtonChange={this.props.handleButtonChange}\n                loggedIn={loggedIn}\n                userInfo={userInfo}\n                isUserSelected={isUserSelected}\n                selectedUser={selectedUser}\n            >\n\n            </TheUserPageHeader>\n            {\n                activeButton === 'phredditUsers' && userInfo[3] && !isUserSelected && (\n                    <div>\n                        <h3>User Accounts</h3>\n                        {\n                            allUsers && allUsers.length > 1 ? (\n                                allUsers.map((user) => {\n                                    // don't display admin users\n                                    // if(user.admin){\n                                    // }\n                                    // else{\n                                        return user.admin ? null : (\n                                            <div key={user._id} className=\"userAccounts\">\n                                                <button className='userAccountDiv'\n                                                    onClick={(e) => {\n                                                        e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                                                        console.log(\"I am at user account userProf\", user)\n                                                        //setPage('userProf', null, user);\n                                                        handleButtonChange('posts', user);\n                                                    }}\n                                                >\n                                                    <p>Display Name: {user.display}</p>\n                                                    <p>Email Address: {user.email}</p>\n                                                    <p>Reputation: {user.reputation}</p>\n                                                    <div className=\"userAccountsSpaceDivTag\"></div>\n                                                </button>\n                                                <button className='deleteUserButton'\n                                                    onClick={(e) => {\n                                                        e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                                                        console.log(user)\n                                                        const confirmDelete = window.confirm(\"Are you sure you want to delete this user?\");\n                                                        if (confirmDelete) {\n                                                            this.handleDeleteUser(user._id);\n                                                        }\n                                                    }}\n                                                >\n                                                    Delete User\n                                                </button>\n                                            </div>\n\n                                        )\n                                    //}\n                                })\n                            ) : (\n                                <p>No users found</p>\n                            )\n                        }\n                    </div>\n                )\n            }\n            {activeButton === 'posts' && (\n                <>\n                <h3>Your Posts</h3>\n                <PostSection\n                    posts={this.props.userPosts.posts}\n                    goToPostPage={goToEditPostPage}\n                    comments={comments} \n                    linkFlairs={linkFlairs} \n                    communities={communities}\n                    order={this.state.order} \n                    page={'userInfo'}\n                    loggedIn={loggedIn}\n                    userInfo={userInfo}\n                    handleDeletePost={this.handleDeletePost}\n                /> \n                </>\n            )}\n            {activeButton === 'communities' && (\n                <>\n                <h3>Your Communities</h3>\n                <CommunitySection\n                communities={this.props.userComs}\n                goToEditCommunityPage={goToEditCommunityPage}\n                handleDeleteCommunity={this.handleDeleteCommunity}\n                />\n                </>\n            )}\n\n            {activeButton === 'comments' && (\n                <>\n                <h3>Your Comments</h3>\n                <CommentSection\n                comments={comments}\n                userComments={this.props.userComments}\n                posts={posts}\n                userPosts={this.props.userPosts}\n                goToEditCommentPage={goToEditCommentPage}\n                handleDeleteComment={this.handleDeleteComment}\n                />\n                </>\n            )}\n        </div>\n        )\n        \n    }\n    \n}\n\nclass TheUserPageHeader extends React.Component{\n\n    render(){\n        console.log(this.props)\n        const { user } = this.props\n        return(\n            <div id=\"header\">\n                <InfoSection\n                    user={user}\n                    page={'userProf'}\n                />\n                <UserButtons \n                    activeButton={this.props.activeButton} \n                    handleButtonChange={this.props.handleButtonChange} \n                    loggedIn={this.props.loggedIn}\n                    userInfo={this.props.userInfo}\n                    isUserSelected={this.props.isUserSelected}\n                    selectedUser={this.props.selectedUser}\n                />\n                {/* user button display here */}\n            </div>\n        );\n    }\n}\n\nclass CommentSection extends React.Component{\n    render(){\n        const {posts, comments, userComments, userPosts, handleDeleteComment} = this.props;\n        console.log(\"COMMENT SECTION hello?\", comments)\n        const sortedComments = commmentsList(comments, userPosts.posts, userComments.comments, posts)\n        sortedComments && sortedComments.length\n        const listComs = sortedComments.map((com, index) =>{\n            return (\n                <div className=\"userCommunitiesComment\" key={com.props._id} id={\"id-\" + com.props._id} onClick={\n                    () => {\n                        console.log(\"BEFORE ASSIGNMENT\")\n                        this.props.goToEditCommentPage(com)\n                        //console.log(\"AFTER ASSIGNMENT\")\n                        }}>\n                        \n                    <div className='userComments'>\n                        {com.props.postTitle} • <TimeStamp key={com.props.comment.commentedDate} postedDate={com.props.comment.commentedDate}/>\n                        <p>{com.props.comment.content.length > 20 ? `${com.props.comment.content.slice(0, 20)}...` : com.props.comment.content}</p>\n                    </div>\n                    {/* <Comment \n                        {...com.props}\n                    /> */}\n                    <br></br>\n                    <button className='deleteCommentButton'\n                        onClick={(e) => {\n                            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                            console.log(com.props)\n                            const confirmDelete = window.confirm(\"Are you sure you want to delete this comment?\");\n                            if (confirmDelete) {\n                                handleDeleteComment(com.props._id);\n                            }\n                        }}\n                    >\n                    Delete Comment\n                </button>\n                </div>\n            );\n        })\n\n        let commentSectionInfo = \n            (\n            <div key={sortedComments.length} className=\"posts\">\n                {listComs}\n            </div>);\n\n\n        return commentSectionInfo;\n    }\n}\n\nfunction commmentsList(comments, userPosts, userComments, posts){\n    console.log(\"comments B4\", comments, posts)\n    const sortedList = commentNewest(userComments);\n\n    //console.log(\"SORTED LIST\", sortedList)\n\n    const comsList = sortedList.map(function(com, index){\n        let postWithComment;\n        let commentArray;\n    \n        for (const post of posts) {\n            // Flatten the comments for the current post\n            console.log(\"this is the post info from\",post.title, post.commentIDs, comments)\n            commentArray = getTotalComments(post, comments);\n            //console.log(\"THIS SI THE COMMENT ARRAY FOR THIS POST\", post, commentArray)\n    \n            // Check if the current comment exists in the flattened comment array\n            if (commentArray.some(nestedComment => nestedComment._id === com._id)) {\n                postWithComment = post;\n                break; // Exit the loop once the matching post is found\n            }\n        }\n    \n        // Get the post title if found, or default to \"Post Not Found\"\n        const postTitle = postWithComment ? postWithComment.title : \"Post Not Found\";\n\n        //console.log(com, postTitle)\n        return(\n            <Comment\n                _id={com._id}\n                page={'userProf'} \n                postTitle={postTitle} \n                comment={com} \n            />\n        );\n    })\n\n    return comsList;\n}\n\nconst commentNewest = (comToDisplay) => {\n\n    let com = comToDisplay;\n\n    com.sort(function(a, b){\n      return(new Date(b.commentedDate) - new Date(a.commentedDate))\n    })\n\n\n    return com;\n\n}\n\n\nclass CommunitySection extends React.Component{\n    render(){\n        const {communities} = this.props;\n        //console.log(\"COM SECTION hello?\", communities)\n        const sortedCommunity = comsList(communities.communities)\n\n        const listComs = sortedCommunity.map((com, index) =>{\n            //console.log(com)\n            return (\n                <div key={com.props._id} id={\"id-\" + com.props._id} onClick={\n                    () => {\n                        //console.log(\"BEFORE ASSIGNMENT\")\n                        this.props.goToEditCommunityPage(com)\n                        //console.log(\"AFTER ASSIGNMENT\")\n                        }}>\n                    \n                    <Community \n                        {...com.props}\n                    />\n                    <button className='deleteCommunityButton'\n                        onClick={(e) => {\n                            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                            // console.log(com.props)\n                            const confirmDelete = window.confirm(\"Are you sure you want to delete this community?\");\n                            if (confirmDelete) {\n                            // If the user confirms, proceed with the delete action\n                            this.props.handleDeleteCommunity(com.props._id);\n                            }\n                            //this.props.handleDeleteCommunity(com.props._id);\n                        }}\n                    >\n                    Delete Community\n                    </button>\n                </div>\n            );\n        })\n\n        let comSectionInfo = \n            (\n            <div key={sortedCommunity.length} className=\"posts\">\n                {listComs}\n            </div>);\n            //console.log(postSectionInfo);\n\n        return comSectionInfo;\n    }\n}\n\nfunction comsList(communities){\n    //console.log(\"COMMUNITIES B4\", communities)\n    const sortedList = comNewest(communities);\n\n    //console.log(\"SORTED LIST\", sortedList)\n\n    const comsList = sortedList.map(function(com, index){\n        return(<Community\n            name={com.name}\n            description={com.description}\n            startDate={com.startDate}\n            createdBy={com.createdBy}\n            memberCount={com.memberCount}\n            postIDs={com.postIDs}\n            _id={com._id}\n        />);\n    })\n\n    return comsList;\n}\n\nclass Community extends React.Component{\n    render(){\n        return (\n            <div className=\"userCommunities\">\n                {/*title*/}<p className='userCommunitiesName'>{this.props.name}</p> \n                {/* Description:  */} <p>{this.props.description}</p>\n                Created: <TimeStamp key={this.props.startDate} postedDate={this.props.startDate}/>\n                <p>Created By: {this.props.createdBy}</p>\n                {/* <p>Post Count: {this.props.postIDs.length}</p> */}\n\n                {<img id=\"postCountIcon\" alt=\"postCountIcon\" src={postCountIcon}/>} {this.props.postIDs.length} {<img id=\"memberCountIcon\" alt=\"memberCountIcon\" src={memberCountIcon}/>} {this.props.memberCount}\n                \n            </div>\n        )\n    }\n}\n\nconst comNewest = (comToDisplay) => {\n\n    let com = comToDisplay;\n\n    com.sort(function(a, b){\n      return(new Date(b.startDate) - new Date(a.startDate))\n    })\n\n\n    return com;\n\n}\n\n\nclass UserButtons extends React.Component {\n    render() {\n        const { activeButton, handleButtonChange, userInfo, isUserSelected, selectedUser } = this.props;\n        console.log(\"am i adminnnnnnn\", userInfo[3]); //userInfo[3] is admin value\n        console.log(\"I am the selected userrrrrrrrr\", selectedUser);\n        return (\n            <div id=\"buttonSection\">\n                {/* display div if admin */}\n                {userInfo[3] && !isUserSelected && \n                    <div className='userButtons' >\n                    <button\n                        className={activeButton === 'phredditUsers' ? 'active' : ''} \n                        onClick={() => handleButtonChange('phredditUsers')}\n                    >\n                    Phreddit Users\n                    </button>\n                    </div>\n                }\n                {/* display button to go back to admin */}\n                {userInfo[3] && isUserSelected && \n                    <div className='userButtons' >\n                    <button\n                        className={activeButton === 'phredditUsers' ? 'active' : ''} \n                        onClick={() => handleButtonChange('phredditUsers')}\n                    >\n                    Back to Admin Profile\n                    </button>\n                    </div>\n                }\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'posts' ? 'active' : ''} \n                        onClick={() => handleButtonChange('posts', selectedUser)}\n                    >\n                    Post\n                    </button>\n                </div>\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'communities' ? 'active' : ''} \n                        onClick={() => handleButtonChange('communities', selectedUser)}\n                    >\n                    Communities\n                    </button>\n                </div>\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'comments' ? 'active' : ''} \n                        onClick={() => handleButtonChange('comments', selectedUser)}\n                    >\n                    Comments\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}