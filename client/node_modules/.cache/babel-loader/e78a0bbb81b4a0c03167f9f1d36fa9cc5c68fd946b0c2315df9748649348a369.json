{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/phreddit.js\";\nimport '../stylesheets/phreddit.css';\nimport axios from 'axios';\nimport React, { createRef } from 'react';\n//import  Model  from '../models/model.js';\n\nimport TheBanner from './banner.js';\nimport TheCommunityPage from './communityPage.js';\nimport TheHomePage from './homePage.js';\nimport ThePostPage from './postPage.js';\nimport TheSearchResultsPage from './searchResultsPage.js';\nimport TheWelcomePage from './welcome.js';\nimport TheRegisterPage from './register.js';\nimport TheLoginPage from './login.js';\nimport TheUserPage from './userProf.js';\nimport NavBar from './navBar.js';\nimport NewCommunityPageView from './newCommunityPageView.js';\nimport NewPostPageView from './newPostPageView.js';\nimport NewCommentPageView from './newCommentPageView.js';\n\n//const model = new Model();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Phreddit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 'welcome',\n      selectedPost: null,\n      selectedCommunity: null,\n      txtInput: null,\n      communities: [],\n      linkFlairs: [],\n      posts: [],\n      comments: [],\n      commentOrReply: null,\n      commentOrReplyParentID: null,\n      isLoading: false,\n      user: 'Guest',\n      loggedIn: false,\n      message: 'Guest',\n      userInfo: [],\n      userProf: {},\n      userComs: [],\n      userPosts: [],\n      userComments: [],\n      userProfActive: 'posts',\n      postUser: null,\n      comUser: null,\n      commentUser: null,\n      allPhredditUsers: [],\n      isUserSelected: false,\n      selectedUser: null\n    };\n    this.goToPostPage = this.goToPostPage.bind(this);\n    this.goToHomePage = this.goToHomePage.bind(this);\n    this.goToCommunityPage = this.goToCommunityPage.bind(this);\n    this.goToSearchResultsPage = this.goToSearchResultsPage.bind(this);\n    this.goToNewPostPageView = this.goToNewPostPageView.bind(this);\n    this.goToEditPostPage = this.goToEditPostPage.bind(this);\n    this.goToEditCommunityPage = this.goToEditCommunityPage.bind(this);\n    this.goToEditCommentPage = this.goToEditCommentPage.bind(this);\n    this.setPage = this.setPage.bind(this);\n    this.setCommunities = this.setCommunities.bind(this);\n    this.setLinkFlairs = this.setLinkFlairs.bind(this);\n    this.setPosts = this.setPosts.bind(this);\n    this.setComments = this.setComments.bind(this);\n    this.setUsers = this.setUsers.bind(this);\n    this.setCommentOrReply = this.setCommentOrReply.bind(this);\n    this.setCommentOrReplyParentID = this.setCommentOrReplyParentID.bind(this);\n    this.fetchData = this.fetchData.bind(this);\n    this.handleOrderButtonClick = this.handleOrderButtonClick.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.fetchUserData = this.fetchUserData.bind(this);\n    this.handleButtonChange = this.handleButtonChange.bind(this);\n    this.theHomePageRef = /*#__PURE__*/createRef();\n  }\n  async componentDidMount() {\n    console.log(\"MOUNTED\");\n    await this.fetchData();\n  }\n  async handleLogout() {\n    try {\n      await axios.post('http://localhost:8000/logout', {}, {\n        withCredentials: true\n      });\n      this.setState({\n        loggedIn: false,\n        user: 'Guest',\n        message: \"Guest\",\n        page: \"welcome\"\n      });\n      alert('You have been logged out.');\n    } catch (error) {\n      console.error('Error logging out:', error);\n      alert('Failed to log out. Please try again.');\n    }\n  }\n\n  //get all users for phredditUsers\n  async fetchAllUsers(isAdmin) {\n    try {\n      if (isAdmin) {\n        const response = await axios.get('http://localhost:8000/getAllUsers', {\n          withCredentials: true\n        });\n        console.log(\"ALL USERS\", response.data);\n        console.log(\"ALL USERSsssssssssss\", response.data[0]);\n        this.setState({\n          allPhredditUsers: response.data\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      alart;\n    }\n  }\n  async fetchUserData(user) {\n    console.log(\"FETCHING USER DATA\");\n    console.log(\"Is there a user????????\", user);\n    if (user) {\n      console.log(\"Is there a user????????\", user.email);\n    }\n    try {\n      await this.fetchData();\n      let userRes;\n      let communitiesRes;\n      let postsRes;\n      let commentsRes;\n      if (user) {\n        console.log(\"AFTER FETCHING PURE DATA\");\n        userRes = await axios.get(`http://localhost:8000/userInfo`, {\n          withCredentials: true,\n          params: {\n            userEmail: user.email\n          }\n        });\n        console.log(userRes.data);\n        communitiesRes = await axios.get(`http://localhost:8000/userCommunities`, {\n          withCredentials: true,\n          params: {\n            userEmail: user.email\n          }\n        });\n        console.log(communitiesRes.data);\n        postsRes = await axios.get(`http://localhost:8000/userPosts`, {\n          withCredentials: true,\n          params: {\n            userEmail: user.email\n          }\n        });\n        console.log(postsRes.data);\n        commentsRes = await axios.get(`http://localhost:8000/userComments`, {\n          withCredentials: true,\n          params: {\n            userEmail: user.email\n          }\n        });\n        console.log(commentsRes.data);\n      } else {\n        console.log(\"AFTER FETCHING PURE DATA\");\n        userRes = await axios.get(`http://localhost:8000/userInfo`, {\n          withCredentials: true\n        });\n        console.log(userRes.data);\n        communitiesRes = await axios.get(`http://localhost:8000/userCommunities`, {\n          withCredentials: true\n        });\n        console.log(communitiesRes.data);\n        postsRes = await axios.get(`http://localhost:8000/userPosts`, {\n          withCredentials: true\n        });\n        console.log(postsRes.data);\n        commentsRes = await axios.get(`http://localhost:8000/userComments`, {\n          withCredentials: true\n        });\n        console.log(commentsRes.data);\n      }\n\n      //let pageProf = user ? \"posts\" : \"phredditUsers\";\n      // console.log(\"active prof page\", pageProf);\n      let isUserSelected = user ? true : false;\n      let selectedUser = user ? user : null;\n      this.setState({\n        userProf: userRes.data.user,\n        userComs: communitiesRes.data,\n        userPosts: postsRes.data,\n        userComments: commentsRes.data,\n        // userProfActive: pageProf,\n        isUserSelected: isUserSelected,\n        selectedUser: selectedUser\n        // isLoading: false,\n      });\n      console.log(\"USER INFO000000000000\", this.state.userInfo[3]);\n      this.fetchAllUsers(this.state.userInfo[3]);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n      //   this.setState({ isLoading: false });\n    }\n  }\n  async fetchData() {\n    console.log(\"FETCHING PURE DATA\");\n    if (this.state.isLoading) return;\n    this.setState({\n      isLoading: true\n    });\n    //console.log(\"FETCHING DATA AGAIN\");\n    try {\n      const sessionResponse = await axios.get(\"http://localhost:8000/\", {\n        withCredentials: true\n      });\n      //console.log(sessionResponse.data)\n      this.setState({\n        loggedIn: !!sessionResponse.data.loggedIn,\n        user: sessionResponse.data.user || \"Guest\",\n        message: sessionResponse.data.message,\n        userInfo: sessionResponse.data.userInfo\n      });\n      const communitiesRes = await axios.get(\"http://localhost:8000/communities\");\n      //console.log(\"Communities fetched:\", communitiesRes.data);\n      const postsRes = await axios.get(\"http://localhost:8000/posts\");\n      //console.log(\"Posts fetched:\", postsRes.data);\n      const commentsRes = await axios.get(\"http://localhost:8000/comments\");\n      //console.log(\"Comments fetched:\", commentsRes.data);\n      const linkFlairsRes = await axios.get(\"http://localhost:8000/linkflairs\");\n      //console.log(\"Link flairs fetched:\", linkFlairsRes.data);\n\n      this.setState({\n        communities: communitiesRes.data,\n        posts: postsRes.data,\n        comments: commentsRes.data,\n        linkFlairs: linkFlairsRes.data\n      });\n    } catch (error) {\n      console.error(\"Error fetching data\", error);\n    } finally {\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n  async handleOrderButtonClick() {\n    //console.log(\"Order button clicked, fetching new data...\");\n    await this.fetchData();\n  }\n  async handleButtonChange(opt, user) {\n    console.log(\"SETTING ACTIVE BUTTON\", opt);\n    console.log(\"is there a user after setting active button\", user);\n    if (user) {\n      await this.fetchUserData(user);\n    } else {\n      await this.fetchUserData();\n    }\n    this.setState({\n      userProfActive: opt\n    });\n    console.log(\"After SETTING ACTIVE BUTTON\", opt);\n  }\n  async goToPostPage(postTitle) {\n    //console.log(\"GO TO POST THE POST TITLE\", postTitle);\n    await this.fetchData();\n    const post = this.state.posts.find(post => post.title === postTitle);\n    if (post) {\n      try {\n        const postRes = await axios.get(`http://localhost:8000/posts/${post._id}`);\n        this.setState({\n          page: 'post',\n          selectedPost: postRes.data,\n          selectedCommunity: null,\n          txtInput: null\n        });\n      } catch (error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n  async goToHomePage() {\n    await this.fetchData();\n    if (this.theHomePageRef.current) {\n      this.theHomePageRef.current.resetOrder();\n    }\n    this.setState({\n      page: 'home',\n      selectedPost: null,\n      selectedCommunity: null,\n      txtInput: null\n    });\n  }\n  async goToCommunityPage(comName) {\n    await this.fetchData();\n    this.setState({\n      page: 'community',\n      selectedPost: null,\n      selectedCommunity: comName,\n      txtInput: null\n    });\n  }\n  async goToSearchResultsPage(txtInput) {\n    await this.fetchData();\n    this.setState({\n      page: 'search',\n      selectedPost: null,\n      selectedCommunity: null,\n      txtInput: txtInput\n    });\n  }\n  async goToNewPostPageView() {\n    // used for creating new posts\n    await this.fetchData();\n    await this.fetchUserData();\n    this.setState({\n      page: 'NewPostPageView'\n    });\n  }\n  async goToEditPostPage(postTitle) {\n    await this.fetchData();\n    const post = this.state.posts.find(post => post.title === postTitle);\n    if (post) {\n      try {\n        const postRes = await axios.get(`http://localhost:8000/getPost/${post._id}`);\n        this.setState({\n          page: 'NewPostPageView',\n          postUser: postRes.data\n        });\n      } catch (error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n  async goToEditCommunityPage(community) {\n    await this.fetchData();\n    console.log(\"EDITING COM uh hello?\", community);\n    if (community) {\n      try {\n        const comRes = await axios.get(`http://localhost:8000/communityInformation/${community.props._id}`);\n        console.log(\"COM DATA:\", comRes.data);\n        this.setState({\n          page: 'NewCommunityPageView',\n          comUser: comRes.data.community\n        });\n      } catch (error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n  async goToEditCommentPage(comment) {\n    await this.fetchData();\n    console.log(\"EDITING COMMENT\", comment);\n    if (comment) {\n      try {\n        const commentRes = await axios.get(`http://localhost:8000/commentInformation/${comment.props._id}`);\n        console.log(\"COMMENT DATA:\", commentRes.data);\n        this.setState({\n          page: 'NewCommentPageView',\n          comUser: commentRes.data.comment\n        });\n      } catch (error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n\n  //change this to make it work for everything\n  async setPage(toGoPage, comName, user, userProfActive) {\n    //console.log(\"ABOUT TO SWITCH PAGES\", toGoPage);\n    await this.fetchData();\n    if (toGoPage === 'userProf' || toGoPage === 'NewPostPageView' || toGoPage === 'NewCommunityPageView' || toGoPage === 'NewCommentPageView') {\n      if (user) {\n        await this.fetchUserData(user);\n      } else {\n        await this.fetchUserData();\n      }\n    }\n    //console.log(\"Data fetched:\", this.state.communities, this.state.posts);\n    console.log(\"SETTING PAGE TO:\", toGoPage);\n    console.log(\"am i an adminn??????\", this.state.userInfo, this.state.loggedIn);\n    // let flag;\n    // if(this.state.userInfo[3]){\n    //   flag\n    // }\n    let pageToGo;\n    if (userProfActive) {\n      pageToGo = userProfActive;\n    } else {\n      if (toGoPage === \"userProf\") {\n        if (this.state.userInfo[3] && !user) {\n          pageToGo = \"phredditUsers\";\n        } else {\n          pageToGo = \"posts\";\n        }\n      } else {\n        pageToGo = this.state.activeButton;\n      }\n    }\n    this.setState({\n      postUser: null,\n      comUser: null,\n      commentUser: null,\n      page: toGoPage,\n      selectedCommunity: comName,\n      userProfActive: pageToGo\n      //userProfActive: toGoPage === \"userProf\" ? (this.state.userInfo[3] ? \"phredditUsers\" : \"posts\") : this.state.activeButton\n    });\n  }\n  setUsers(updater) {\n    this.setState(prevState => {\n      // Check if updater is a function\n      const newUsers = typeof updater === 'function' ? updater(prevState.allPhredditUsers) : updater;\n      console.log(\"Setting users:\", newUsers);\n      return {\n        allPhredditUsers: newUsers\n      };\n    });\n  }\n  setCommunities(updater) {\n    // console.log(\"setting communities\", newCommunities)\n    // this.setState({communities: newCommunities});\n\n    this.setState(prevState => {\n      // Check if updater is a function\n      const newCommunities = typeof updater === 'function' ? updater(prevState.communities) : updater;\n      console.log(\"Setting communities:\", newCommunities);\n      return {\n        communities: newCommunities\n      };\n    });\n  }\n  setLinkFlairs(newLinkFlairs) {\n    this.setState({\n      linkFlairs: newLinkFlairs\n    });\n  }\n  setPosts(updater) {\n    this.setState(prevState => {\n      // Check if updater is a function\n      const newPosts = typeof updater === 'function' ? updater(prevState.posts) : updater;\n      console.log(\"Setting Posts:\", newPosts);\n      return {\n        posts: newPosts\n      };\n    });\n    // console.log(\"SETTING NEW POSTS\", newPosts)\n    // this.setState({posts: newPosts});\n  }\n  setComments(updater) {\n    this.setState(prevState => {\n      // Check if updater is a function\n      const newComments = typeof updater === 'function' ? updater(prevState.comments) : updater;\n      console.log(\"Setting comments:\", newComments);\n      return {\n        comments: newComments\n      };\n    });\n\n    // this.setState({comments: newComments});\n  }\n  setCommentOrReply(newCommentOrReply) {\n    // will be used for commenting and replying\n    this.setState({\n      commentOrReply: newCommentOrReply\n    }); // either \"comment\" or \"reply\"\n  }\n  setCommentOrReplyParentID(newCommentOrReplyParentID) {\n    // will be used for commenting and replying\n    this.setState({\n      commentOrReplyParentID: newCommentOrReplyParentID\n    }); // either \"comment\" or \"reply\"\n  }\n  changeMainContent() {\n    switch (this.state.page) {\n      case 'userProf':\n        return /*#__PURE__*/_jsxDEV(TheUserPage, {\n          posts: this.state.posts,\n          goToNewPostPageView: this.goToNewPostPageView,\n          goToEditPostPage: this.goToEditPostPage,\n          goToEditCommunityPage: this.goToEditCommunityPage,\n          goToEditCommentPage: this.goToEditCommentPage,\n          communities: this.state.communities,\n          comments: this.state.comments,\n          linkFlairs: this.state.linkFlairs,\n          loggedIn: this.state.loggedIn,\n          user: this.state.user,\n          setPage: this.setPage,\n          userInfo: this.state.userInfo,\n          userProf: this.state.userProf,\n          userComs: this.state.userComs,\n          userPosts: this.state.userPosts,\n          userComments: this.state.userComments,\n          activeButton: this.state.userProfActive,\n          handleButtonChange: this.handleButtonChange,\n          setComments: this.setComments,\n          setPosts: this.setPosts,\n          setCommunities: this.setCommunities,\n          setUsers: this.setUsers,\n          allPhredditUsers: this.state.allPhredditUsers,\n          isUserSelected: this.state.isUserSelected,\n          selectedUser: this.state.selectedUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 32\n        }, this);\n      case 'welcome':\n        return /*#__PURE__*/_jsxDEV(TheWelcomePage, {\n          setPage: this.setPage,\n          loggedIn: this.state.loggedIn,\n          handleLogout: this.handleLogout,\n          user: this.state.user,\n          message: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 9\n        }, this);\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(TheHomePage, {\n          ref: this.theHomePageRef,\n          posts: this.state.posts,\n          goToPostPage: this.goToPostPage,\n          communities: this.state.communities,\n          comments: this.state.comments,\n          linkFlairs: this.state.linkFlairs,\n          setPage: this.setPage,\n          handleOrderButtonClick: this.handleOrderButtonClick,\n          loggedIn: this.state.loggedIn,\n          user: this.state.user,\n          userInfo: this.state.userInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 9\n        }, this);\n      case 'NewCommunityPageView':\n        return /*#__PURE__*/_jsxDEV(NewCommunityPageView, {\n          communities: this.state.communities,\n          setCommunities: this.setCommunities,\n          setPage: this.setPage,\n          loggedIn: this.state.loggedIn,\n          userInfo: this.state.userInfo,\n          editCom: this.state.comUser,\n          selectedUser: this.state.selectedUser,\n          handleButtonChange: this.handleButtonChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 9\n        }, this);\n      case 'NewPostPageView':\n        return /*#__PURE__*/_jsxDEV(NewPostPageView, {\n          communities: this.state.communities,\n          setCommunities: this.setCommunities,\n          linkFlairs: this.state.linkFlairs,\n          setLinkFlairs: this.setLinkFlairs,\n          posts: this.state.posts,\n          setPosts: this.setPosts,\n          setPage: this.setPage,\n          loggedIn: this.state.loggedIn,\n          userInfo: this.state.userInfo,\n          editPost: this.state.postUser,\n          selectedUser: this.state.selectedUser,\n          handleButtonChange: this.handleButtonChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 9\n        }, this);\n      case 'community':\n        return /*#__PURE__*/_jsxDEV(TheCommunityPage, {\n          community: this.state.selectedCommunity,\n          posts: this.state.posts,\n          communities: this.state.communities,\n          comments: this.state.comments,\n          linkFlairs: this.state.linkFlairs,\n          goToPostPage: this.goToPostPage,\n          handleOrderButtonClick: this.handleOrderButtonClick,\n          loggedIn: this.state.loggedIn,\n          user: this.state.user,\n          userInfo: this.state.userInfo,\n          setCommunities: this.setCommunities,\n          setPage: this.setPage,\n          goToCommunityPage: this.goToCommunityPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 9\n        }, this);\n      case 'post':\n        return /*#__PURE__*/_jsxDEV(ThePostPage, {\n          posts: this.state.posts,\n          post: this.state.selectedPost,\n          communities: this.state.communities,\n          comments: this.state.comments,\n          linkFlairs: this.state.linkFlairs,\n          setPage: this.setPage,\n          setCommentOrReply: this.setCommentOrReply,\n          setCommentOrReplyParentID: this.setCommentOrReplyParentID,\n          loggedIn: this.state.loggedIn,\n          userInfo: this.state.userInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 9\n        }, this);\n      case 'search':\n        return /*#__PURE__*/_jsxDEV(TheSearchResultsPage, {\n          posts: this.state.posts,\n          txtInput: this.state.txtInput,\n          goToPostPage: this.goToPostPage,\n          communities: this.state.communities,\n          comments: this.state.comments,\n          linkFlairs: this.state.linkFlairs,\n          handleOrderButtonClick: this.handleOrderButtonClick,\n          loggedIn: this.state.loggedIn,\n          user: this.state.user,\n          userInfo: this.state.userInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 9\n        }, this);\n      case \"NewCommentPageView\":\n        return /*#__PURE__*/_jsxDEV(NewCommentPageView, {\n          posts: this.state.posts,\n          setPosts: this.setPosts,\n          comments: this.state.comments,\n          setComments: this.setComments,\n          setPage: this.setPage,\n          commentOrReply: this.state.commentOrReply,\n          setCommentOrReply: this.setCommentOrReply,\n          commentOrReplyParentID: this.state.commentOrReplyParentID,\n          setCommentOrReplyParentID: this.setCommentOrReplyParentID,\n          loggedIn: this.state.loggedIn,\n          userInfo: this.state.userInfo,\n          editComment: this.state.comUser,\n          selectedUser: this.state.selectedUser,\n          handleButtonChange: this.handleButtonChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 9\n        }, this);\n      case \"welcome\":\n        return /*#__PURE__*/_jsxDEV(TheWelcomePage, {\n          setPage: this.setPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 9\n        }, this);\n      case \"register\":\n        return /*#__PURE__*/_jsxDEV(TheRegisterPage, {\n          setPage: this.setPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 9\n        }, this);\n      case 'login':\n        return /*#__PURE__*/_jsxDEV(TheLoginPage, {\n          setPage: this.setPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 9\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(TheWelcomePage, {\n          setPage: this.setPage,\n          loggedIn: this.state.loggedIn,\n          handleLogout: this.handleLogout,\n          user: this.state.user,\n          message: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 9\n        }, this);\n    }\n  }\n  render() {\n    const {\n      page,\n      loggedIn,\n      user,\n      userInfo\n    } = this.state;\n    const showHeaderAndNavBar = page !== 'welcome' && page !== 'register' && page !== 'login';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [showHeaderAndNavBar && /*#__PURE__*/_jsxDEV(TheBanner, {\n        goToHomePage: this.goToHomePage,\n        goToSearchResultsPage: this.goToSearchResultsPage,\n        goToNewPostPageView: this.goToNewPostPageView,\n        page: page,\n        user: user,\n        loggedIn: loggedIn,\n        handleLogout: this.handleLogout,\n        setPage: this.setPage,\n        userInfo: userInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"body\",\n        children: [showHeaderAndNavBar && /*#__PURE__*/_jsxDEV(NavBar, {\n          page: page,\n          selectedCommunity: this.state.selectedCommunity,\n          goToHomePage: this.goToHomePage,\n          goToCommunityPage: this.goToCommunityPage,\n          communities: this.state.communities,\n          setPage: this.setPage,\n          loggedIn: loggedIn,\n          userInfo: userInfo,\n          setCommunities: this.setCommunities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 13\n        }, this), this.changeMainContent()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["axios","React","createRef","TheBanner","TheCommunityPage","TheHomePage","ThePostPage","TheSearchResultsPage","TheWelcomePage","TheRegisterPage","TheLoginPage","TheUserPage","NavBar","NewCommunityPageView","NewPostPageView","NewCommentPageView","jsxDEV","_jsxDEV","Phreddit","Component","constructor","props","state","page","selectedPost","selectedCommunity","txtInput","communities","linkFlairs","posts","comments","commentOrReply","commentOrReplyParentID","isLoading","user","loggedIn","message","userInfo","userProf","userComs","userPosts","userComments","userProfActive","postUser","comUser","commentUser","allPhredditUsers","isUserSelected","selectedUser","goToPostPage","bind","goToHomePage","goToCommunityPage","goToSearchResultsPage","goToNewPostPageView","goToEditPostPage","goToEditCommunityPage","goToEditCommentPage","setPage","setCommunities","setLinkFlairs","setPosts","setComments","setUsers","setCommentOrReply","setCommentOrReplyParentID","fetchData","handleOrderButtonClick","handleLogout","fetchUserData","handleButtonChange","theHomePageRef","componentDidMount","console","log","post","withCredentials","setState","alert","error","fetchAllUsers","isAdmin","response","get","data","alart","email","userRes","communitiesRes","postsRes","commentsRes","params","userEmail","sessionResponse","linkFlairsRes","opt","postTitle","find","title","postRes","_id","current","resetOrder","comName","community","comRes","comment","commentRes","toGoPage","pageToGo","activeButton","updater","prevState","newUsers","newCommunities","newLinkFlairs","newPosts","newComments","newCommentOrReply","newCommentOrReplyParentID","changeMainContent","fileName","_jsxFileName","lineNumber","columnNumber","ref","editCom","editPost","editComment","render","showHeaderAndNavBar","children","id"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/phreddit.js"],"sourcesContent":["import '../stylesheets/phreddit.css';\nimport axios from 'axios';\nimport React, {createRef} from 'react';\n//import  Model  from '../models/model.js';\n\nimport TheBanner from './banner.js';\nimport TheCommunityPage from './communityPage.js';\nimport TheHomePage from './homePage.js';\nimport ThePostPage from './postPage.js';\nimport TheSearchResultsPage from './searchResultsPage.js';\n\nimport TheWelcomePage from './welcome.js';\nimport TheRegisterPage from './register.js';\nimport TheLoginPage from './login.js';\nimport TheUserPage from './userProf.js';\n\nimport NavBar from './navBar.js';\nimport NewCommunityPageView from './newCommunityPageView.js';\nimport NewPostPageView from './newPostPageView.js';\nimport NewCommentPageView from './newCommentPageView.js';\n\n\n//const model = new Model();\n\nexport default class Phreddit extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      page: 'welcome', \n      selectedPost: null, \n      selectedCommunity: null, \n      txtInput: null,\n\n      communities: [],\n      linkFlairs: [],\n      posts: [],\n      comments: [],\n\n      commentOrReply: null,\n      commentOrReplyParentID: null,\n      isLoading: false,\n\n      user: 'Guest',\n      loggedIn: false,\n      message: 'Guest',\n      userInfo: [],\n\n      userProf: {},\n      userComs: [],\n      userPosts: [],\n      userComments: [],\n\n      userProfActive: 'posts',\n\n      postUser: null,\n      comUser: null,\n      commentUser: null,\n\n      allPhredditUsers: [],\n\n      isUserSelected: false,\n      selectedUser: null,\n    };\n    this.goToPostPage = this.goToPostPage.bind(this);\n    this.goToHomePage = this.goToHomePage.bind(this);\n    this.goToCommunityPage = this.goToCommunityPage.bind(this);\n    this.goToSearchResultsPage = this.goToSearchResultsPage.bind(this);\n    this.goToNewPostPageView = this.goToNewPostPageView.bind(this);\n\n    this.goToEditPostPage = this.goToEditPostPage.bind(this);\n    this.goToEditCommunityPage = this.goToEditCommunityPage.bind(this);\n    this.goToEditCommentPage = this.goToEditCommentPage.bind(this);\n\n    this.setPage = this.setPage.bind(this);\n    this.setCommunities = this.setCommunities.bind(this);\n    this.setLinkFlairs = this.setLinkFlairs.bind(this);\n    this.setPosts = this.setPosts.bind(this);\n    this.setComments = this.setComments.bind(this);\n    this.setUsers = this.setUsers.bind(this);\n\n    this.setCommentOrReply = this.setCommentOrReply.bind(this);\n    this.setCommentOrReplyParentID = this.setCommentOrReplyParentID.bind(this);\n\n    this.fetchData = this.fetchData.bind(this);\n    this.handleOrderButtonClick = this.handleOrderButtonClick.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.fetchUserData = this.fetchUserData.bind(this);\n    this.handleButtonChange = this.handleButtonChange.bind(this);\n\n\n    this.theHomePageRef = createRef();\n  }\n\n  async componentDidMount(){\n    console.log(\"MOUNTED\");\n    await this.fetchData();\n  }\n\n  async handleLogout() {\n    try {\n      await axios.post('http://localhost:8000/logout', {}, { withCredentials: true });\n      this.setState({ loggedIn: false, user: 'Guest', message: \"Guest\", page: \"welcome\"});\n      alert('You have been logged out.');\n    } catch (error) {\n      console.error('Error logging out:', error);\n      alert('Failed to log out. Please try again.');\n    }\n  }\n  \n  //get all users for phredditUsers\n  async fetchAllUsers(isAdmin) {\n    try {\n      if(isAdmin){\n        const response = await axios.get('http://localhost:8000/getAllUsers', { withCredentials: true });\n        console.log(\"ALL USERS\", response.data);\n        console.log(\"ALL USERSsssssssssss\", response.data[0]);\n        this.setState({allPhredditUsers: response.data});\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      alart\n    }\n  };\n\n  async fetchUserData(user) {\n    console.log(\"FETCHING USER DATA\")\n    console.log(\"Is there a user????????\", user)\n    if(user){\n      console.log(\"Is there a user????????\", user.email)\n    }\n    try {\n      await this.fetchData();\n      let userRes;\n      let communitiesRes;\n      let postsRes;\n      let commentsRes;\n      if(user){\n        console.log(\"AFTER FETCHING PURE DATA\")\n        userRes = await axios.get(`http://localhost:8000/userInfo`, { withCredentials: true, params: {userEmail: user.email} });\n        console.log(userRes.data)\n        communitiesRes = await axios.get(`http://localhost:8000/userCommunities`, { withCredentials: true, params: {userEmail: user.email} });\n        console.log(communitiesRes.data)\n        postsRes = await axios.get(`http://localhost:8000/userPosts`, { withCredentials: true, params: {userEmail: user.email} });\n        console.log(postsRes.data)\n        commentsRes = await axios.get(`http://localhost:8000/userComments`, { withCredentials: true, params: {userEmail: user.email} });\n        console.log(commentsRes.data)\n      }\n      else{\n        console.log(\"AFTER FETCHING PURE DATA\")\n        userRes = await axios.get(`http://localhost:8000/userInfo`, { withCredentials: true });\n        console.log(userRes.data)\n        communitiesRes = await axios.get(`http://localhost:8000/userCommunities`, { withCredentials: true });\n        console.log(communitiesRes.data)\n        postsRes = await axios.get(`http://localhost:8000/userPosts`, { withCredentials: true });\n        console.log(postsRes.data)\n        commentsRes = await axios.get(`http://localhost:8000/userComments`, { withCredentials: true });\n        console.log(commentsRes.data)\n      }\n\n      //let pageProf = user ? \"posts\" : \"phredditUsers\";\n      // console.log(\"active prof page\", pageProf);\n      let isUserSelected = user ? true : false;\n      let selectedUser = user ? user : null;\n      \n      this.setState({\n        userProf: userRes.data.user,\n        userComs: communitiesRes.data,\n        userPosts: postsRes.data,\n        userComments: commentsRes.data,\n        // userProfActive: pageProf,\n        isUserSelected: isUserSelected,\n        selectedUser: selectedUser,\n        // isLoading: false,\n      });\n\n      console.log(\"USER INFO000000000000\", this.state.userInfo[3]);\n      this.fetchAllUsers(this.state.userInfo[3]);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    //   this.setState({ isLoading: false });\n    }\n  }\n\n  async fetchData(){\n    console.log(\"FETCHING PURE DATA\")\n    if (this.state.isLoading) return; \n    this.setState({ isLoading: true });\n    //console.log(\"FETCHING DATA AGAIN\");\n    try{\n      const sessionResponse = await axios.get(\"http://localhost:8000/\", { withCredentials: true });\n      //console.log(sessionResponse.data)\n      this.setState({ \n        loggedIn: !!sessionResponse.data.loggedIn, \n        user: sessionResponse.data.user || \"Guest\",\n        message: sessionResponse.data.message,\n        userInfo: sessionResponse.data.userInfo\n      });\n\n\n\n      const communitiesRes = await axios.get(\"http://localhost:8000/communities\");\n      //console.log(\"Communities fetched:\", communitiesRes.data);\n      const postsRes = await axios.get(\"http://localhost:8000/posts\");\n      //console.log(\"Posts fetched:\", postsRes.data);\n      const commentsRes = await axios.get(\"http://localhost:8000/comments\");\n      //console.log(\"Comments fetched:\", commentsRes.data);\n      const linkFlairsRes = await axios.get(\"http://localhost:8000/linkflairs\");\n      //console.log(\"Link flairs fetched:\", linkFlairsRes.data);\n\n\n      this.setState({\n        communities: communitiesRes.data,\n        posts: postsRes.data,\n        comments: commentsRes.data,\n        linkFlairs: linkFlairsRes.data,\n      });\n    } catch (error) {\n      console.error(\"Error fetching data\", error);\n    } finally {\n      this.setState({ isLoading: false });\n    }\n    \n  }\n\n  async handleOrderButtonClick() {\n    //console.log(\"Order button clicked, fetching new data...\");\n    await this.fetchData(); \n  }\n\n  async handleButtonChange(opt, user) {\n    console.log(\"SETTING ACTIVE BUTTON\", opt);\n    console.log(\"is there a user after setting active button\", user);\n    if(user){\n      await this.fetchUserData(user);\n    }\n    else{\n      await this.fetchUserData();\n    }\n    this.setState({ userProfActive: opt });\n    console.log(\"After SETTING ACTIVE BUTTON\", opt);\n  }\n\n\n  \n  async goToPostPage(postTitle){\n    //console.log(\"GO TO POST THE POST TITLE\", postTitle);\n    await this.fetchData();\n    const post = this.state.posts.find(post => post.title === postTitle);\n\n    if (post) {\n      try{\n      const postRes = await axios.get(`http://localhost:8000/posts/${post._id}`)\n      this.setState({\n        page: 'post',\n        selectedPost: postRes.data, \n        selectedCommunity: null,\n        txtInput: null,\n      });\n        \n      } catch(error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n\n  async goToHomePage(){\n    await this.fetchData();\n    if (this.theHomePageRef.current) {\n      this.theHomePageRef.current.resetOrder();\n    }\n    this.setState({\n      page: 'home',\n      selectedPost: null, \n      selectedCommunity: null, \n      txtInput:null,\n    })\n  }\n\n\n    \n  async goToCommunityPage(comName){\n    await this.fetchData();\n      \n    this.setState({\n      page: 'community',\n      selectedPost: null, \n      selectedCommunity: comName, \n      txtInput:null,\n    });\n  }\n    \n  async goToSearchResultsPage(txtInput){\n    await this.fetchData();\n    this.setState({page: 'search', selectedPost: null, selectedCommunity: null, txtInput: txtInput})\n  }\n\n  async goToNewPostPageView(){ // used for creating new posts\n    await this.fetchData();\n    await this.fetchUserData(); \n    this.setState({page: 'NewPostPageView'})\n  }\n\n  async goToEditPostPage(postTitle) {\n    await this.fetchData();\n\n    const post = this.state.posts.find(post => post.title === postTitle);\n\n    if (post) {\n      try{\n      const postRes = await axios.get(`http://localhost:8000/getPost/${post._id}`)\n      this.setState({\n        page: 'NewPostPageView',\n        postUser: postRes.data, \n      });\n        \n      } catch(error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n\n  async goToEditCommunityPage(community) {\n    await this.fetchData();\n    console.log(\"EDITING COM uh hello?\", community)\n\n  \n    if (community) {\n      try{\n      const comRes = await axios.get(`http://localhost:8000/communityInformation/${community.props._id}`);\n      console.log(\"COM DATA:\", comRes.data)\n      this.setState({\n        page: 'NewCommunityPageView',\n        comUser: comRes.data.community, \n      });\n        \n      } catch(error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n\n  async goToEditCommentPage(comment) {\n    await this.fetchData();\n    console.log(\"EDITING COMMENT\", comment)\n\n  \n    if (comment) {\n      try{\n      const commentRes = await axios.get(`http://localhost:8000/commentInformation/${comment.props._id}`);\n      console.log(\"COMMENT DATA:\", commentRes.data)\n      this.setState({\n        page: 'NewCommentPageView',\n        comUser: commentRes.data.comment, \n      });\n        \n      } catch(error) {\n        console.error(\"Error fetching data\", error);\n      }\n    }\n  }\n\n\n  //change this to make it work for everything\n  async setPage(toGoPage, comName, user, userProfActive){\n    //console.log(\"ABOUT TO SWITCH PAGES\", toGoPage);\n    await this.fetchData();\n    \n    if (toGoPage === 'userProf' || toGoPage === 'NewPostPageView' || toGoPage === 'NewCommunityPageView' || toGoPage === 'NewCommentPageView') {\n      if(user){\n        await this.fetchUserData(user);\n      }\n      else{\n        await this.fetchUserData();  \n      }\n    }\n    //console.log(\"Data fetched:\", this.state.communities, this.state.posts);\n    console.log(\"SETTING PAGE TO:\", toGoPage)\n    console.log(\"am i an adminn??????\", this.state.userInfo, this.state.loggedIn);\n    // let flag;\n    // if(this.state.userInfo[3]){\n    //   flag\n    // }\n    let pageToGo;\n    if(userProfActive){\n      pageToGo = userProfActive;\n    }\n    else{\n      if(toGoPage === \"userProf\"){\n        if(this.state.userInfo[3] && !user){\n          pageToGo = \"phredditUsers\";\n        }\n        else{\n          pageToGo = \"posts\";\n        }\n      }\n      else{\n        pageToGo = this.state.activeButton\n      }\n    }\n    this.setState({ \n      postUser: null,\n      comUser: null,\n      commentUser: null,\n      page: toGoPage, \n      selectedCommunity: comName, \n      userProfActive: pageToGo,\n      //userProfActive: toGoPage === \"userProf\" ? (this.state.userInfo[3] ? \"phredditUsers\" : \"posts\") : this.state.activeButton\n    });\n  }\n\n  setUsers(updater){\n\n    this.setState((prevState) => {\n        // Check if updater is a function\n        const newUsers = typeof updater === 'function' ? updater(prevState.allPhredditUsers) : updater;\n\n        console.log(\"Setting users:\", newUsers);\n        return { allPhredditUsers: newUsers };\n    });\n  }\n\n  setCommunities(updater){\n    // console.log(\"setting communities\", newCommunities)\n    // this.setState({communities: newCommunities});\n\n    this.setState((prevState) => {\n      // Check if updater is a function\n      const newCommunities = typeof updater === 'function' ? updater(prevState.communities) : updater;\n\n      console.log(\"Setting communities:\", newCommunities);\n      return { communities: newCommunities };\n  });\n\n  }\n\n  setLinkFlairs(newLinkFlairs){\n    this.setState({linkFlairs: newLinkFlairs});\n  }\n  setPosts(updater){\n    this.setState((prevState) => {\n      // Check if updater is a function\n      const newPosts = typeof updater === 'function' ? updater(prevState.posts) : updater;\n\n      console.log(\"Setting Posts:\", newPosts);\n      return { posts: newPosts };\n    });\n    // console.log(\"SETTING NEW POSTS\", newPosts)\n    // this.setState({posts: newPosts});\n  }\n  setComments(updater){\n    this.setState((prevState) => {\n      // Check if updater is a function\n      const newComments = typeof updater === 'function' ? updater(prevState.comments) : updater;\n\n      console.log(\"Setting comments:\", newComments);\n      return { comments: newComments };\n  });\n\n    // this.setState({comments: newComments});\n  }\n  \n  setCommentOrReply(newCommentOrReply){// will be used for commenting and replying\n    this.setState({commentOrReply: newCommentOrReply}); // either \"comment\" or \"reply\"\n  }\n  setCommentOrReplyParentID(newCommentOrReplyParentID){// will be used for commenting and replying\n    this.setState({commentOrReplyParentID: newCommentOrReplyParentID}); // either \"comment\" or \"reply\"\n  }\n  \n  changeMainContent(){\n    switch(this.state.page){\n      case 'userProf': return (<TheUserPage \n        posts={this.state.posts} \n        goToNewPostPageView={this.goToNewPostPageView}\n        goToEditPostPage={this.goToEditPostPage}\n        goToEditCommunityPage={this.goToEditCommunityPage}\n        goToEditCommentPage={this.goToEditCommentPage}\n        communities={this.state.communities} \n        comments={this.state.comments} \n        linkFlairs={this.state.linkFlairs}\n        loggedIn={this.state.loggedIn}\n        user={this.state.user}\n        setPage={this.setPage} \n        userInfo={this.state.userInfo}\n        userProf={this.state.userProf}\n        userComs={this.state.userComs}\n        userPosts={this.state.userPosts}\n        userComments={this.state.userComments}\n        activeButton={this.state.userProfActive}\n        handleButtonChange={this.handleButtonChange}\n        setComments={this.setComments}\n        setPosts={this.setPosts}\n        setCommunities={this.setCommunities}\n        setUsers={this.setUsers}\n        allPhredditUsers={this.state.allPhredditUsers}\n        isUserSelected={this.state.isUserSelected}\n        selectedUser={this.state.selectedUser}\n        />\n      );\n\n      case 'welcome': return (\n        <TheWelcomePage \n        setPage={this.setPage} \n        loggedIn={this.state.loggedIn}\n        handleLogout={this.handleLogout}\n        user={this.state.user} \n        message={this.state.message}\n        />\n      );\n      case 'home':  return (\n        <TheHomePage\n        ref={this.theHomePageRef}\n        posts={this.state.posts} \n        goToPostPage={this.goToPostPage} \n        communities={this.state.communities} \n        comments={this.state.comments} \n        linkFlairs={this.state.linkFlairs}\n        setPage={this.setPage}\n        handleOrderButtonClick={this.handleOrderButtonClick}\n        loggedIn={this.state.loggedIn}\n        user={this.state.user} \n        userInfo={this.state.userInfo}\n        />\n      );\n      case 'NewCommunityPageView': return (\n        <NewCommunityPageView \n        communities={this.state.communities} \n        setCommunities={this.setCommunities}\n        setPage={this.setPage}\n        loggedIn={this.state.loggedIn}\n        userInfo={this.state.userInfo}\n        editCom={this.state.comUser}\n        selectedUser={this.state.selectedUser}\n        handleButtonChange={this.handleButtonChange}\n        />\n      );\n      case 'NewPostPageView': return (\n        <NewPostPageView\n        communities={this.state.communities}\n        setCommunities={this.setCommunities}\n        linkFlairs={this.state.linkFlairs}\n        setLinkFlairs={this.setLinkFlairs}\n        posts={this.state.posts}\n        setPosts={this.setPosts}\n        setPage={this.setPage}\n        loggedIn={this.state.loggedIn}\n        userInfo={this.state.userInfo}\n        editPost={this.state.postUser}\n        selectedUser={this.state.selectedUser}\n        handleButtonChange={this.handleButtonChange}\n        />\n      );\n      case 'community': return(\n        <TheCommunityPage\n        community={this.state.selectedCommunity}\n        posts={this.state.posts} \n        communities={this.state.communities} \n        comments={this.state.comments} \n        linkFlairs={this.state.linkFlairs}\n        goToPostPage={this.goToPostPage}\n        handleOrderButtonClick={this.handleOrderButtonClick}\n        loggedIn={this.state.loggedIn}\n        user={this.state.user} \n        userInfo={this.state.userInfo}\n        setCommunities={this.setCommunities}\n        setPage={this.setPage}\n        goToCommunityPage={this.goToCommunityPage}\n        />\n      );\n      case 'post' : return (\n        <ThePostPage \n        posts={this.state.posts}\n        post={this.state.selectedPost} \n        communities={this.state.communities} \n        comments={this.state.comments} \n        linkFlairs={this.state.linkFlairs}\n        setPage={this.setPage}\n        setCommentOrReply={this.setCommentOrReply}\n        setCommentOrReplyParentID={this.setCommentOrReplyParentID}\n        loggedIn={this.state.loggedIn}\n        userInfo={this.state.userInfo}\n        />\n      );\n      case 'search' : return(\n        <TheSearchResultsPage \n        posts={this.state.posts} \n        txtInput={this.state.txtInput} \n        goToPostPage={this.goToPostPage} \n        communities={this.state.communities} \n        comments={this.state.comments} \n        linkFlairs={this.state.linkFlairs}\n        handleOrderButtonClick={this.handleOrderButtonClick}\n        loggedIn={this.state.loggedIn}\n        user={this.state.user} \n        userInfo={this.state.userInfo}\n        />\n      );\n      case \"NewCommentPageView\": return(\n        <NewCommentPageView\n        posts={this.state.posts}\n        setPosts={this.setPosts}\n        comments={this.state.comments}\n        setComments={this.setComments}\n        setPage={this.setPage}\n        commentOrReply={this.state.commentOrReply}\n        setCommentOrReply={this.setCommentOrReply}\n        commentOrReplyParentID={this.state.commentOrReplyParentID}\n        setCommentOrReplyParentID={this.setCommentOrReplyParentID}\n        loggedIn={this.state.loggedIn}\n        userInfo={this.state.userInfo}\n        editComment={this.state.comUser}\n        selectedUser={this.state.selectedUser}\n        handleButtonChange={this.handleButtonChange}\n        />\n      );\n      case \"welcome\": return( \n        <TheWelcomePage\n        setPage={this.setPage}\n        />\n      );\n      case \"register\": return(\n        <TheRegisterPage\n        setPage={this.setPage}\n        />\n      );\n      case 'login': return (\n        <TheLoginPage \n        setPage={this.setPage}\n        />\n      );\n      default: return (\n        <TheWelcomePage \n        setPage={this.setPage} \n        loggedIn={this.state.loggedIn}\n        handleLogout={this.handleLogout}\n        user={this.state.user} \n        message={this.state.message}\n        />\n      );\n    }\n  }\n  \n  render(){\n    const {page, loggedIn, user, userInfo} = this.state;\n\n\n    const showHeaderAndNavBar = page !== 'welcome' && page !== 'register' && page !== 'login';\n\n    return (\n      <div>\n        {showHeaderAndNavBar && (\n          <TheBanner\n            goToHomePage={this.goToHomePage}\n            goToSearchResultsPage={this.goToSearchResultsPage}\n            goToNewPostPageView={this.goToNewPostPageView}\n            page={page}\n            user={user}\n            loggedIn={loggedIn}\n            handleLogout={this.handleLogout}\n            setPage={this.setPage}\n            userInfo={userInfo}\n          />\n        )}\n        <div id=\"body\">\n          {showHeaderAndNavBar && (\n            <NavBar\n              page={page}\n              selectedCommunity={this.state.selectedCommunity}\n              goToHomePage={this.goToHomePage}\n              goToCommunityPage={this.goToCommunityPage}\n              communities={this.state.communities}\n              setPage={this.setPage}\n              loggedIn={loggedIn}\n              userInfo={userInfo}\n              setCommunities={this.setCommunities}\n            />\n          )}\n          {this.changeMainContent()}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}