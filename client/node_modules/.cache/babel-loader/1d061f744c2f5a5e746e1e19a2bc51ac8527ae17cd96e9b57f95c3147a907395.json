{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/postPage.js\";\nimport React from 'react';\nimport { InfoSection, getPost, getComment, getTotalComments, TimeStamp } from './homePage.js';\nimport '../stylesheets/postPage.css';\nimport upvoteIcon from '../images/upvoteIcon.png';\nimport downVoteIcon from '../images/downvoteIcon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ThePostPage extends React.Component {\n  render() {\n    //console.log(\"THIS IS PROPS\", this.props)\n    const {\n      posts,\n      post,\n      comments,\n      communities,\n      linkFlairs,\n      setPage,\n      setCommentOrReplyParentID,\n      setCommentOrReply,\n      loggedIn\n    } = this.props;\n    //console.log(\"RENDERING\", post, comments)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"postMainDiv\",\n      children: [/*#__PURE__*/_jsxDEV(PostPageHeader, {\n        posts: posts,\n        post: post,\n        communities: communities,\n        comments: comments,\n        linkFlairs: linkFlairs,\n        setPage: setPage,\n        setCommentOrReplyParentID: setCommentOrReplyParentID,\n        setCommentOrReply: setCommentOrReply,\n        loggedIn: loggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CommentThread, {\n        posts: posts,\n        post: post,\n        communities: communities,\n        comments: comments,\n        linkFlairs: linkFlairs,\n        setPage: setPage,\n        setCommentOrReplyParentID: setCommentOrReplyParentID,\n        setCommentOrReply: setCommentOrReply,\n        loggedIn: loggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass PostPageHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentForm: false\n    };\n    this.createComment = this.createComment.bind(this);\n  }\n  createComment() {\n    //console.log(\"Creating Comment\");\n    this.setState({\n      commentForm: true\n    });\n  }\n  render() {\n    const {\n      posts,\n      post,\n      communities,\n      comments,\n      linkFlairs,\n      setPage,\n      setCommentOrReplyParentID,\n      setCommentOrReply,\n      loggedIn\n    } = this.props;\n    //console.log(\"POST PAGE HEADER\", post);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: postPageView(posts, post, communities, comments, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this);\n  }\n}\nfunction postPageView(posts, postName, communities, comments, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn) {\n  // const commentSection = document.getElementById(\"posts\");\n  // commentSection.innerHTML = '';\n  const post = posts.find(function (post) {\n    //console.log(post);\n    return post.title === postName.title;\n  });\n\n  //console.log(\"POST PAGE VIEW\", post)\n\n  const postInfo = getPost(post, communities, comments, linkFlairs);\n  const content = post.content;\n\n  //console.log(\"POST INFO\", postInfo);\n\n  const linkFlair = postInfo[4] !== 'not FOUND' ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"linkFlair\",\n      children: postInfo[4]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this) : null;\n  post.commentIDs.sort(function (a, b) {\n    //console.log(\"in the sort\");\n    return new Date(getComment(b, comments).commentedDate) - new Date(getComment(a, comments).commentedDate);\n  });\n  //console.log(\"POST PAGE VIEW\", post);\n  console.log(\"POST PAGE VIEWlogggggeddddinnnnn?\", loggedIn);\n  return /*#__PURE__*/_jsxDEV(InfoSection, {\n    page: 'post',\n    comName: postInfo[0],\n    userName: postInfo[1],\n    startDate: postInfo[2],\n    title: postInfo[3],\n    linkFlairInput: linkFlair,\n    content: content,\n    viewCount: post.views,\n    commentCount: postInfo[7],\n    upVotes: postInfo[9],\n    loggedIn: loggedIn,\n    setPage: setPage,\n    setCommentOrReplyParentID: setCommentOrReplyParentID,\n    setCommentOrReply: setCommentOrReply,\n    postID: post._id\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\nclass CommentThread extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      replyForm: false\n    };\n    this.createReply = this.createReply.bind(this);\n  }\n  createReply() {\n    //console.log(\"Creating Reply\");\n    this.setState({\n      replyForm: true\n    });\n  }\n  render() {\n    const {\n      posts,\n      post,\n      comments,\n      setPage,\n      setCommentOrReplyParentID,\n      setCommentOrReply\n    } = this.props;\n    //console.log(this.props);\n    const postToDisplay = posts.find(postIter => {\n      return postIter.title === post.title;\n    });\n    //console.log(\"COMMENT THREAD\", postToDisplay);\n\n    postToDisplay.commentIDs.sort(function (a, b) {\n      //console.log(\"A\", getComment(a, comments), \"B\", getComment(b, comments));\n      return new Date(getComment(b, comments).commentedDate) - new Date(getComment(a, comments).commentedDate);\n    });\n    const commentArray = getTotalComments(postToDisplay, comments);\n    //console.log(\"THIS IS COMMENT ARRAY\", commentArray);\n    let marginMap = new Map();\n    const listComments = commentArray.map((comment, index) => {\n      // Determine the margin for this comment\n      //console.log(comment);\n      let spacing = marginMap.get(comment._id) || \"0.5rem\";\n\n      //console.log(marginMap)\n\n      // Prepare the margin for child comments\n      comment.commentIDs.forEach(childID => {\n        marginMap.set(childID, `${parseFloat(spacing) + 4}rem`);\n      });\n\n      // Render the comment with appropriate margin\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment\",\n        style: {\n          marginLeft: spacing\n        },\n        children: /*#__PURE__*/_jsxDEV(Comment, {\n          postName: post.title,\n          id: comment._id,\n          userName: comment.commentedBy,\n          content: comment.content,\n          timeStamp: comment.commentedDate,\n          setPage: setPage,\n          setCommentOrReplyParentID: setCommentOrReplyParentID,\n          setCommentOrReply: setCommentOrReply,\n          loggedIn: this.props.loggedIn,\n          upVotes: comment.upVotes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)\n      }, comment._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"posts\",\n      children: listComments\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass Comment extends React.Component {\n  render() {\n    console.log(\"is loggggggggin?????\", this.props.loggedIn);\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"comment_style\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentInfo\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"commentTitle\",\n          children: [this.props.userName, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timeStamp\",\n            children: /*#__PURE__*/_jsxDEV(TimeStamp, {\n              postedDate: this.props.timeStamp\n            }, this.props.timeStamp, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentContent\",\n        children: this.props.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentVoteDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"upVoteButton\",\n          disabled: !this.props.loggedIn,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"upvoteIcon\",\n            alt: \"voteCountIcon\",\n            src: upvoteIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"downVoteButton\",\n          disabled: !this.props.loggedIn,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"downvoteIcon\",\n            alt: \"voteCountIcon\",\n            src: downVoteIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }, this), \"sekjuhsdkjf\" + this.props.upVotes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !this.props.loggedIn,\n        \"data-commentunder\": this.props.id,\n        \"data-post-name\": this.props.postName,\n        className: \"replyButton\",\n        onClick: () => {\n          this.props.setPage(\"NewCommentPageView\");\n          this.props.setCommentOrReplyParentID(this.props.id);\n          this.props.setCommentOrReply(\"reply\");\n        },\n        children: \"Reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","InfoSection","getPost","getComment","getTotalComments","TimeStamp","upvoteIcon","downVoteIcon","jsxDEV","_jsxDEV","ThePostPage","Component","render","posts","post","comments","communities","linkFlairs","setPage","setCommentOrReplyParentID","setCommentOrReply","loggedIn","props","id","children","PostPageHeader","fileName","_jsxFileName","lineNumber","columnNumber","CommentThread","constructor","state","commentForm","createComment","bind","setState","postPageView","postName","find","title","postInfo","content","linkFlair","className","commentIDs","sort","a","b","Date","commentedDate","console","log","page","comName","userName","startDate","linkFlairInput","viewCount","views","commentCount","upVotes","postID","_id","replyForm","createReply","postToDisplay","postIter","commentArray","marginMap","Map","listComments","map","comment","index","spacing","get","forEach","childID","set","parseFloat","style","marginLeft","Comment","commentedBy","timeStamp","postedDate","disabled","alt","src","onClick"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/postPage.js"],"sourcesContent":["import React from 'react';\nimport {InfoSection, getPost, getComment, getTotalComments, TimeStamp} from './homePage.js';\nimport '../stylesheets/postPage.css'\nimport upvoteIcon from '../images/upvoteIcon.png'\nimport downVoteIcon from '../images/downvoteIcon.png'\n\nexport default class ThePostPage extends React.Component{\n\n    render(){\n        //console.log(\"THIS IS PROPS\", this.props)\n        const {posts, post, comments, communities, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn} = this.props\n        //console.log(\"RENDERING\", post, comments)\n        return (\n            <div id=\"postMainDiv\">\n                <PostPageHeader posts={posts} post={post} communities={communities} comments={comments} linkFlairs={linkFlairs} setPage={setPage} setCommentOrReplyParentID={setCommentOrReplyParentID} setCommentOrReply={setCommentOrReply} loggedIn={loggedIn}/>\n                <CommentThread posts={posts} post={post} communities={communities} comments={comments} linkFlairs={linkFlairs} setPage={setPage} setCommentOrReplyParentID={setCommentOrReplyParentID} setCommentOrReply={setCommentOrReply} loggedIn={loggedIn}/>\n            </div>\n        );\n    }\n}\n\nclass PostPageHeader extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {commentForm: false};\n        this.createComment= this.createComment.bind(this);\n    }\n\n    createComment(){\n        //console.log(\"Creating Comment\");\n        this.setState({commentForm: true});\n    }\n\n    render(){\n        const {posts, post, communities, comments, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn} = this.props\n        //console.log(\"POST PAGE HEADER\", post);\n        return(\n            <div id=\"header\">\n                {postPageView(posts, post, communities, comments, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn)}\n            </div>\n        );\n    }\n}\n\n\nfunction postPageView(posts, postName, communities, comments, linkFlairs, setPage, setCommentOrReplyParentID, setCommentOrReply, loggedIn){\n    // const commentSection = document.getElementById(\"posts\");\n    // commentSection.innerHTML = '';\n    const post = posts.find(function(post){\n        //console.log(post);\n      return post.title === postName.title;\n    });\n\n\n    //console.log(\"POST PAGE VIEW\", post)\n    \n    const postInfo = getPost(post, communities, comments, linkFlairs);\n    const content = post.content;\n\n    //console.log(\"POST INFO\", postInfo);\n\n\n    const linkFlair = postInfo[4] !== 'not FOUND' ?\n        (\n        <div>\n            <span className=\"linkFlair\">\n                {postInfo[4]}\n            </span>\n        </div>\n        ) : null;\n\n    post.commentIDs.sort(function(a,b){\n        //console.log(\"in the sort\");\n        return(new Date(getComment(b, comments).commentedDate) - new Date(getComment(a, comments).commentedDate))\n    });\n    //console.log(\"POST PAGE VIEW\", post);\n    console.log(\"POST PAGE VIEWlogggggeddddinnnnn?\", loggedIn);\n    return(\n    <InfoSection\n        page={'post'}\n        comName = {postInfo[0]}\n        userName = {postInfo[1]}\n        startDate = {postInfo[2]}\n        title = {postInfo[3]}\n        linkFlairInput = {linkFlair}\n        content = {content}\n        viewCount = {post.views}\n        commentCount = {postInfo[7]}\n        upVotes = {postInfo[9]}\n        loggedIn = {loggedIn}\n\n        setPage = {setPage}\n        setCommentOrReplyParentID = {setCommentOrReplyParentID}\n        setCommentOrReply = {setCommentOrReply}\n        postID = {post._id}\n    />\n    );\n  }\n\nclass CommentThread extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {replyForm: false};\n        this.createReply= this.createReply.bind(this);\n    }\n\n    createReply(){\n        //console.log(\"Creating Reply\");\n        this.setState({replyForm: true});\n    }\n\n    render(){\n        const {posts, post, comments, setPage, setCommentOrReplyParentID, setCommentOrReply} = this.props\n        //console.log(this.props);\n        const postToDisplay = posts.find((postIter) => {return postIter.title === post.title});\n        //console.log(\"COMMENT THREAD\", postToDisplay);\n      \n        postToDisplay.commentIDs.sort(function(a,b){\n            //console.log(\"A\", getComment(a, comments), \"B\", getComment(b, comments));\n            return(new Date(getComment(b, comments).commentedDate) - new Date(getComment(a, comments).commentedDate))\n        });\n\n        const commentArray = getTotalComments(postToDisplay,  comments);\n        //console.log(\"THIS IS COMMENT ARRAY\", commentArray);\n        let marginMap = new Map();\n        const listComments = commentArray.map((comment, index) =>{\n            // Determine the margin for this comment\n            //console.log(comment);\n            let spacing = marginMap.get(comment._id) || \"0.5rem\";\n\n            //console.log(marginMap)\n            \n            // Prepare the margin for child comments\n            comment.commentIDs.forEach((childID) => {\n                marginMap.set(childID, `${parseFloat(spacing) + 4}rem`);\n            });\n            \n            // Render the comment with appropriate margin\n            return (\n                <div className=\"comment\" key={comment._id} style={{ marginLeft: spacing }}>\n                    <Comment\n                        postName = {post.title}\n                        id = {comment._id}\n                        userName = {comment.commentedBy}\n                        content = {comment.content}\n                        timeStamp = {comment.commentedDate} \n                        setPage = {setPage}\n                        setCommentOrReplyParentID = {setCommentOrReplyParentID}\n                        setCommentOrReply = {setCommentOrReply}\n                        loggedIn = {this.props.loggedIn}\n                        upVotes = {comment.upVotes}\n                    />\n                </div>\n            );})\n\n        return(\n            <div id=\"posts\">\n                {listComments}\n            </div>\n        );\n    }\n}\n\n\nclass Comment extends React.Component{\n    \n    render(){\n        console.log(\"is loggggggggin?????\", this.props.loggedIn);\n        return(\n            <span className=\"comment_style\">\n            <div className=\"commentInfo\">\n            <div className=\"commentTitle\">\n                {/* {this.props.id} */}\n                {this.props.userName}\n                <span>•</span>\n                <div className=\"timeStamp\">\n                <TimeStamp key={this.props.timeStamp} postedDate={this.props.timeStamp}/>\n                </div>\n            </div>\n            </div>\n            <div className=\"commentContent\">\n            {this.props.content}\n            </div>\n\n\n            <div className=\"commentVoteDiv\">\n                <button className='upVoteButton' disabled={!this.props.loggedIn}>\n                    <img\n                        className='upvoteIcon'\n                        alt=\"voteCountIcon\"\n                        src={upvoteIcon}\n                    />\n                </button>\n                <button className='downVoteButton' disabled={!this.props.loggedIn}>\n                    <img\n                    className='downvoteIcon'\n                    alt=\"voteCountIcon\"\n                    src={downVoteIcon}\n                />\n                </button>\n                \n                {\"sekjuhsdkjf\"+this.props.upVotes}\n            </div>\n\n            <button \n                disabled={!this.props.loggedIn}\n                data-commentunder={this.props.id} \n                data-post-name={this.props.postName} \n                className=\"replyButton\" \n                onClick={() => { \n                    this.props.setPage(\"NewCommentPageView\"); \n                    this.props.setCommentOrReplyParentID(this.props.id); \n                    this.props.setCommentOrReply(\"reply\");\n                }}\n            >Reply\n            </button>\n        </span>\n        );\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}