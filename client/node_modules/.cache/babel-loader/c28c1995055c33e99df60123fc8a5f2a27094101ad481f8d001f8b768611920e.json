{"ast":null,"code":"var _jsxFileName = \"/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/userProf.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { PostSection, InfoSection, orderNewest, TimeStamp, getTotalComments } from './homePage.js';\nimport { Comment } from './postPage.js';\nimport '../stylesheets/userProf.css';\nimport memberCountIcon from '../images/memberCountIcon.svg';\nimport postCountIcon from '../images/postCountIcon.svg';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TheUserPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleDeleteComment = async commentId => {\n      console.log(\"COMMENT ID IN DELETE\", commentId);\n      try {\n        const response = await axios.delete(`http://localhost:8000/comments/${commentId}`, {\n          withCredentials: true\n        });\n        this.props.setComments(prevComments => prevComments.filter(comment => comment._id !== commentId));\n        alert('Comment deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting comment:', error);\n        alert('Failed to delete comment. Please try again.');\n      }\n    };\n    this.state = {\n      order: orderNewest\n    };\n    this.handleDeleteComment = this.handleDeleteComment.bind(this);\n  }\n  //get all users for phredditUsers\n  async fetchAllUsers() {\n    try {\n      const response = await axios.get('http://localhost:8000/getAllUsers', {\n        withCredentials: true\n      });\n      console.log(\"ALL USERS\", response.data);\n      console.log(\"ALL USERS\", response.data[0]);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  }\n  render() {\n    const {\n      activeButton\n    } = this.props;\n    console.log(this.props);\n    const {\n      setPage,\n      goToEditCommunityPage,\n      goToEditPostPage,\n      goToEditCommentPage,\n      posts,\n      communities,\n      comments,\n      linkFlairs,\n      handleOrderButtonClick,\n      loggedIn,\n      userInfo\n    } = this.props;\n    const allUsers = this.fetchAllUsers();\n    console.log(\"ALL USERS\", allUsers);\n    console.log(\"HOME PAGE PROPS\", this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"homePage\",\n      className: \"main_cont_divs\",\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"this is the user info tab\"\n      }, void 0, false), /*#__PURE__*/_jsxDEV(TheUserPageHeader, {\n        user: this.props.userProf,\n        activeButton: activeButton,\n        handleButtonChange: this.props.handleButtonChange,\n        loggedIn: loggedIn,\n        userInfo: userInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), activeButton === 'phredditUsers' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"User Accounts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), allUsers.map(user => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.display\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 41\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 37\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), activeButton === 'posts' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PostSection, {\n          posts: this.props.userPosts.posts,\n          goToPostPage: goToEditPostPage,\n          comments: comments,\n          linkFlairs: linkFlairs,\n          communities: communities,\n          order: this.state.order,\n          page: 'userInfo',\n          loggedIn: loggedIn,\n          userInfo: userInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), activeButton === 'communities' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CommunitySection, {\n          communities: this.props.userComs,\n          goToEditCommunityPage: goToEditCommunityPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), activeButton === 'comments' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CommentSection, {\n          comments: comments,\n          userComments: this.props.userComments,\n          posts: posts,\n          userPosts: this.props.userPosts,\n          goToEditCommentPage: goToEditCommentPage,\n          handleDeleteComment: this.handleDeleteComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this);\n  }\n}\nclass TheUserPageHeader extends React.Component {\n  render() {\n    console.log(this.props);\n    const {\n      user\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(InfoSection, {\n        user: user,\n        page: 'userProf'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UserButtons, {\n        activeButton: this.props.activeButton,\n        handleButtonChange: this.props.handleButtonChange,\n        loggedIn: this.props.loggedIn,\n        userInfo: this.props.userInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass CommentSection extends React.Component {\n  render() {\n    const {\n      posts,\n      communities,\n      order,\n      comments,\n      linkFlairs,\n      setPage,\n      userComments,\n      userPosts,\n      handleDeleteComment\n    } = this.props;\n    console.log(\"COMMENT SECTION hello?\", comments);\n    const sortedComments = commmentsList(comments, userPosts.posts, userComments.comments, posts);\n    const listComs = sortedComments.map((com, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userCommunitiesComment\",\n        id: \"id-\" + com.props._id,\n        onClick: () => {\n          console.log(\"BEFORE ASSIGNMENT\");\n          this.props.goToEditCommentPage(com);\n          //console.log(\"AFTER ASSIGNMENT\")\n        },\n        children: [/*#__PURE__*/_jsxDEV(Comment, {\n          ...com.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"deleteCommentButton\",\n          onClick: e => {\n            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n            console.log(com.props);\n            handleDeleteComment(com.props._id);\n          },\n          children: \"Delete Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this)]\n      }, com.props._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this);\n    });\n    let commentSectionInfo = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: listComs\n    }, sortedComments.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this);\n    return commentSectionInfo;\n  }\n}\nfunction commmentsList(comments, userPosts, userComments, posts) {\n  //console.log(\"comments B4\", comments, posts)\n  const sortedList = commentNewest(userComments);\n\n  //console.log(\"SORTED LIST\", sortedList)\n\n  const comsList = sortedList.map(function (com, index) {\n    let postWithComment;\n    let commentArray;\n    for (const post of posts) {\n      // Flatten the comments for the current post\n      console.log(\"this is the post info from\", post.title, post.commentIDs, comments);\n      commentArray = getTotalComments(post, comments);\n      //console.log(\"THIS SI THE COMMENT ARRAY FOR THIS POST\", post, commentArray)\n\n      // Check if the current comment exists in the flattened comment array\n      if (commentArray.some(nestedComment => nestedComment._id === com._id)) {\n        postWithComment = post;\n        break; // Exit the loop once the matching post is found\n      }\n    }\n\n    // Get the post title if found, or default to \"Post Not Found\"\n    const postTitle = postWithComment ? postWithComment.title : \"Post Not Found\";\n\n    //console.log(com, postTitle)\n    return /*#__PURE__*/_jsxDEV(Comment, {\n      _id: com._id,\n      page: 'userProf',\n      postTitle: postTitle,\n      comment: com\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this);\n  });\n  return comsList;\n}\nconst commentNewest = comToDisplay => {\n  let com = comToDisplay;\n  com.sort(function (a, b) {\n    return new Date(b.commentedDate) - new Date(a.commentedDate);\n  });\n  return com;\n};\nclass CommunitySection extends React.Component {\n  render() {\n    const {\n      posts,\n      communities,\n      order,\n      comments,\n      linkFlairs,\n      setPage\n    } = this.props;\n    //console.log(\"COM SECTION hello?\", communities)\n    const sortedCommunity = comsList(communities.communities);\n    const listComs = sortedCommunity.map((com, index) => {\n      //console.log(com)\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"id-\" + com.props._id,\n        onClick: () => {\n          //console.log(\"BEFORE ASSIGNMENT\")\n          this.props.goToEditCommunityPage(com);\n          //console.log(\"AFTER ASSIGNMENT\")\n        },\n        children: [/*#__PURE__*/_jsxDEV(Community, {\n          ...com.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"deleteCommunityButton\",\n          onClick: e => {\n            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n            this.handleDeleteCommunity(com.props.postID);\n          },\n          children: \"Delete Community\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, com.props._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this);\n    });\n    let comSectionInfo = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: listComs\n    }, sortedCommunity.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this);\n    //console.log(postSectionInfo);\n\n    return comSectionInfo;\n  }\n}\nfunction comsList(communities) {\n  //console.log(\"COMMUNITIES B4\", communities)\n  const sortedList = comNewest(communities);\n\n  //console.log(\"SORTED LIST\", sortedList)\n\n  const comsList = sortedList.map(function (com, index) {\n    return /*#__PURE__*/_jsxDEV(Community, {\n      name: com.name,\n      description: com.description,\n      startDate: com.startDate,\n      createdBy: com.createdBy,\n      memberCount: com.memberCount,\n      postIDs: com.postIDs,\n      _id: com._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 16\n    }, this);\n  });\n  return comsList;\n}\nclass Community extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userCommunities\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"userCommunitiesName\",\n        children: this.props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 28\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.props.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Created: \", /*#__PURE__*/_jsxDEV(TimeStamp, {\n          postedDate: this.props.startDate\n        }, this.props.startDate, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Created By: \", this.props.createdBy]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"postCountIcon\",\n        alt: \"postCountIcon\",\n        src: postCountIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 18\n      }, this), \" \", this.props.postIDs.length, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"memberCountIcon\",\n        alt: \"memberCountIcon\",\n        src: memberCountIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 114\n      }, this), \" \", this.props.memberCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst comNewest = comToDisplay => {\n  let com = comToDisplay;\n  com.sort(function (a, b) {\n    return new Date(b.startDate) - new Date(a.startDate);\n  });\n  return com;\n};\nclass UserButtons extends React.Component {\n  render() {\n    const {\n      activeButton,\n      handleButtonChange,\n      loggedIn,\n      userInfo\n    } = this.props;\n    console.log(\"am i adminnnnnnn\", userInfo[3]); //userInfo[3] is admin value\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"buttonSection\",\n      children: [userInfo[3] && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'phredditUsers' ? 'active' : '',\n          onClick: () => handleButtonChange('phredditUsers'),\n          children: \"Phreddit Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'posts' ? 'active' : '',\n          onClick: () => handleButtonChange('posts'),\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'communities' ? 'active' : '',\n          onClick: () => handleButtonChange('communities'),\n          children: \"Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userButtons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeButton === 'comments' ? 'active' : '',\n          onClick: () => handleButtonChange('comments'),\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","axios","PostSection","InfoSection","orderNewest","TimeStamp","getTotalComments","Comment","memberCountIcon","postCountIcon","Fragment","_Fragment","jsxDEV","_jsxDEV","TheUserPage","Component","constructor","props","handleDeleteComment","commentId","console","log","response","delete","withCredentials","setComments","prevComments","filter","comment","_id","alert","error","state","order","bind","fetchAllUsers","get","data","render","activeButton","setPage","goToEditCommunityPage","goToEditPostPage","goToEditCommentPage","posts","communities","comments","linkFlairs","handleOrderButtonClick","loggedIn","userInfo","allUsers","id","className","children","TheUserPageHeader","user","userProf","handleButtonChange","fileName","_jsxFileName","lineNumber","columnNumber","map","display","email","userPosts","goToPostPage","page","CommunitySection","userComs","CommentSection","userComments","UserButtons","sortedComments","commmentsList","listComs","com","index","onClick","e","stopPropagation","commentSectionInfo","length","sortedList","commentNewest","comsList","postWithComment","commentArray","post","title","commentIDs","some","nestedComment","postTitle","comToDisplay","sort","a","b","Date","commentedDate","sortedCommunity","Community","handleDeleteCommunity","postID","comSectionInfo","comNewest","name","description","startDate","createdBy","memberCount","postIDs","postedDate","alt","src"],"sources":["/Users/junmao/Desktop/CSE316_HW/project-thomaschuchu/client/src/components/userProf.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {PostSection, InfoSection, orderNewest, TimeStamp, getTotalComments} from './homePage.js';\nimport { Comment }  from './postPage.js';\nimport '../stylesheets/userProf.css';\nimport memberCountIcon from '../images/memberCountIcon.svg'\nimport postCountIcon from '../images/postCountIcon.svg'\n\nexport default class TheUserPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n          order: orderNewest,\n        };\n        \n        this.handleDeleteComment = this.handleDeleteComment.bind(this)\n    }\n\n    handleDeleteComment = async (commentId) => {\n        console.log(\"COMMENT ID IN DELETE\", commentId)\n        try {\n            const response = await axios.delete(`http://localhost:8000/comments/${commentId}`, { withCredentials: true });\n    \n            this.props.setComments((prevComments) =>\n                prevComments.filter((comment) => comment._id !== commentId)\n            );\n            alert('Comment deleted successfully!');\n        } catch (error) {\n            console.error('Error deleting comment:', error);\n            alert('Failed to delete comment. Please try again.');\n        }\n    };\n\n    //get all users for phredditUsers\n    async fetchAllUsers() {\n        try {\n            const response = await axios.get('http://localhost:8000/getAllUsers', { withCredentials: true });\n            console.log(\"ALL USERS\", response.data);\n            console.log(\"ALL USERS\", response.data[0]);\n            return response.data;\n        } catch (error) {\n            console.error('Error fetching users:', error);\n        }\n    };\n\n    render(){\n        const {activeButton } = this.props;\n        console.log(this.props)\n        const {setPage, goToEditCommunityPage, goToEditPostPage, goToEditCommentPage, posts, communities, comments, linkFlairs, handleOrderButtonClick, loggedIn, userInfo} = this.props\n        const allUsers = this.fetchAllUsers();\n        console.log(\"ALL USERS\", allUsers)\n        console.log(\"HOME PAGE PROPS\", this.props);\n        return (\n        <div id=\"homePage\" className=\"main_cont_divs\">\n            <>this is the user info tab</>\n            <TheUserPageHeader \n                user={this.props.userProf}\n                activeButton={activeButton}\n                handleButtonChange={this.props.handleButtonChange}\n                loggedIn={loggedIn}\n                userInfo={userInfo}\n            >\n\n            </TheUserPageHeader>\n            {\n                activeButton === 'phredditUsers' && (\n                    <div>\n                        <h3>User Accounts</h3>\n                        {\n                            allUsers.map((user) => {\n                                return (\n                                    <div key={user._id} className=\"user\">\n                                        <p>{user.display}</p>\n                                        <p>{user.email}</p>\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                )\n            }\n            {activeButton === 'posts' && (\n                <>\n                <h3>Your Posts</h3>\n                <PostSection\n                    posts={this.props.userPosts.posts}\n                    goToPostPage={goToEditPostPage}\n                    comments={comments} \n                    linkFlairs={linkFlairs} \n                    communities={communities}\n                    order={this.state.order} \n                    page={'userInfo'}\n                    loggedIn={loggedIn}\n                    userInfo={userInfo}\n                /> \n                </>\n            )}\n            {activeButton === 'communities' && (\n                <>\n                <h3>Your Communities</h3>\n                <CommunitySection\n                communities={this.props.userComs}\n                goToEditCommunityPage={goToEditCommunityPage}\n                />\n                </>\n            )}\n\n            {activeButton === 'comments' && (\n                <>\n                <h3>Your Comments</h3>\n                <CommentSection\n                comments={comments}\n                userComments={this.props.userComments}\n                posts={posts}\n                userPosts={this.props.userPosts}\n                goToEditCommentPage={goToEditCommentPage}\n                handleDeleteComment={this.handleDeleteComment}\n                />\n                </>\n            )}\n        </div>\n        )\n        \n    }\n    \n}\n\nclass TheUserPageHeader extends React.Component{\n\n    render(){\n        console.log(this.props)\n        const { user } = this.props\n        return(\n            <div id=\"header\">\n                <InfoSection\n                    user={user}\n                    page={'userProf'}\n                />\n                <UserButtons \n                    activeButton={this.props.activeButton} \n                    handleButtonChange={this.props.handleButtonChange} \n                    loggedIn={this.props.loggedIn}\n                    userInfo={this.props.userInfo}\n                />\n                {/* user button display here */}\n            </div>\n        );\n    }\n}\n\nclass CommentSection extends React.Component{\n    render(){\n        const {posts, communities, order, comments, linkFlairs, setPage, userComments, userPosts, handleDeleteComment} = this.props;\n        console.log(\"COMMENT SECTION hello?\", comments)\n        const sortedComments = commmentsList(comments, userPosts.posts, userComments.comments, posts)\n\n        const listComs = sortedComments.map((com, index) =>{\n            return (\n                <div className=\"userCommunitiesComment\" key={com.props._id} id={\"id-\" + com.props._id} onClick={\n                    () => {\n                        console.log(\"BEFORE ASSIGNMENT\")\n                        this.props.goToEditCommentPage(com)\n                        //console.log(\"AFTER ASSIGNMENT\")\n                        }}>\n                    <Comment \n                        {...com.props}\n                    />\n                    <br></br>\n                    <button className='deleteCommentButton'\n                        onClick={(e) => {\n                            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                            console.log(com.props)\n                            handleDeleteComment(com.props._id);\n                        }}\n                    >\n                    Delete Comment\n                </button>\n                </div>\n            );\n        })\n\n        let commentSectionInfo = \n            (\n            <div key={sortedComments.length} className=\"posts\">\n                {listComs}\n            </div>);\n\n\n        return commentSectionInfo;\n    }\n}\n\nfunction commmentsList(comments, userPosts, userComments, posts){\n    //console.log(\"comments B4\", comments, posts)\n    const sortedList = commentNewest(userComments);\n\n    //console.log(\"SORTED LIST\", sortedList)\n\n    const comsList = sortedList.map(function(com, index){\n        let postWithComment;\n        let commentArray;\n    \n        for (const post of posts) {\n            // Flatten the comments for the current post\n            console.log(\"this is the post info from\",post.title, post.commentIDs, comments)\n            commentArray = getTotalComments(post, comments);\n            //console.log(\"THIS SI THE COMMENT ARRAY FOR THIS POST\", post, commentArray)\n    \n            // Check if the current comment exists in the flattened comment array\n            if (commentArray.some(nestedComment => nestedComment._id === com._id)) {\n                postWithComment = post;\n                break; // Exit the loop once the matching post is found\n            }\n        }\n    \n        // Get the post title if found, or default to \"Post Not Found\"\n        const postTitle = postWithComment ? postWithComment.title : \"Post Not Found\";\n\n        //console.log(com, postTitle)\n        return(\n            <Comment\n                _id={com._id}\n                page={'userProf'} \n                postTitle={postTitle} \n                comment={com} \n            />\n        );\n    })\n\n    return comsList;\n}\n\nconst commentNewest = (comToDisplay) => {\n\n    let com = comToDisplay;\n\n    com.sort(function(a, b){\n      return(new Date(b.commentedDate) - new Date(a.commentedDate))\n    })\n\n\n    return com;\n\n}\n\n\nclass CommunitySection extends React.Component{\n    render(){\n        const {posts, communities, order, comments, linkFlairs, setPage} = this.props;\n        //console.log(\"COM SECTION hello?\", communities)\n        const sortedCommunity = comsList(communities.communities)\n\n        const listComs = sortedCommunity.map((com, index) =>{\n            //console.log(com)\n            return (\n                <div key={com.props._id} id={\"id-\" + com.props._id} onClick={\n                    () => {\n                        //console.log(\"BEFORE ASSIGNMENT\")\n                        this.props.goToEditCommunityPage(com)\n                        //console.log(\"AFTER ASSIGNMENT\")\n                        }}>\n                    <Community \n                        {...com.props}\n                    />\n                    <button className='deleteCommunityButton'\n                        onClick={(e) => {\n                            e.stopPropagation(); // Prevent triggering the `goToPostPage` click\n                            this.handleDeleteCommunity(com.props.postID);\n                        }}\n                    >\n                    Delete Community\n                    </button>\n                </div>\n            );\n        })\n\n        let comSectionInfo = \n            (\n            <div key={sortedCommunity.length} className=\"posts\">\n                {listComs}\n            </div>);\n            //console.log(postSectionInfo);\n\n        return comSectionInfo;\n    }\n}\n\nfunction comsList(communities){\n    //console.log(\"COMMUNITIES B4\", communities)\n    const sortedList = comNewest(communities);\n\n    //console.log(\"SORTED LIST\", sortedList)\n\n    const comsList = sortedList.map(function(com, index){\n        return(<Community\n            name={com.name}\n            description={com.description}\n            startDate={com.startDate}\n            createdBy={com.createdBy}\n            memberCount={com.memberCount}\n            postIDs={com.postIDs}\n            _id={com._id}\n        />);\n    })\n\n    return comsList;\n}\n\nclass Community extends React.Component{\n    render(){\n        return (\n            <div className=\"userCommunities\">\n                {/*title*/}<p className='userCommunitiesName'>{this.props.name}</p> \n                {/* Description:  */} <p>{this.props.description}</p>\n                <p>Created: <TimeStamp key={this.props.startDate} postedDate={this.props.startDate}/></p>\n                <p>Created By: {this.props.createdBy}</p>\n                {/* <p>Post Count: {this.props.postIDs.length}</p> */}\n\n                {<img id=\"postCountIcon\" alt=\"postCountIcon\" src={postCountIcon}/>} {this.props.postIDs.length} {<img id=\"memberCountIcon\" alt=\"memberCountIcon\" src={memberCountIcon}/>} {this.props.memberCount}\n                \n            </div>\n        )\n    }\n}\n\nconst comNewest = (comToDisplay) => {\n\n    let com = comToDisplay;\n\n    com.sort(function(a, b){\n      return(new Date(b.startDate) - new Date(a.startDate))\n    })\n\n\n    return com;\n\n}\n\n\nclass UserButtons extends React.Component {\n    render() {\n        const { activeButton, handleButtonChange, loggedIn, userInfo } = this.props;\n        console.log(\"am i adminnnnnnn\", userInfo[3]); //userInfo[3] is admin value\n        return (\n            <div id=\"buttonSection\">\n                {/* display div not admin */}\n                {userInfo[3] &&\n                    <div className='userButtons' >\n                    <button\n                        className={activeButton === 'phredditUsers' ? 'active' : ''} \n                        onClick={() => handleButtonChange('phredditUsers')}\n                    >\n                    Phreddit Users\n                    </button>\n                    </div>\n                }\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'posts' ? 'active' : ''} \n                        onClick={() => handleButtonChange('posts')}\n                    >\n                    Post\n                    </button>\n                </div>\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'communities' ? 'active' : ''} \n                        onClick={() => handleButtonChange('communities')}\n                    >\n                    Communities\n                    </button>\n                </div>\n                <div className='userButtons'>\n                    <button \n                        className={activeButton === 'comments' ? 'active' : ''} \n                        onClick={() => handleButtonChange('comments')}\n                    >\n                    Comments\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}